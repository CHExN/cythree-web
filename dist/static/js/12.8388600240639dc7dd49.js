webpackJsonp([12,64,139,140],{"2rGb":function(t,e){},"40S8":function(t,e){},"7/zc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("LGCE"),n=a("SnDY"),o=a("PMnZ"),d={name:"ContractInside",components:{ContractInsideInfo:s.default,ContractInsideAdd:n.default,ContractInsideEdit:o.default},data:function(){return{advanced:!1,contractInsideInfo:{visiable:!1,data:{}},contractInsideAdd:{visiable:!1,data:{}},contractInsideEdit:{visiable:!1,data:{}},fileNumData:["编内合同制","编内固定工"],queryParams:{},filteredInfo:null,sortedInfo:null,paginationInfo:null,dataSource:[],selectedRowKeys:[],loading:!1,pagination:{pageSizeOptions:["10","20","30","40","100"],defaultCurrent:1,defaultPageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t,e){return"显示 "+e[0]+" ~ "+e[1]+" 条记录，共 "+t+" 条记录"}}}},computed:{columns:function(){var t=this.sortedInfo;return[{title:"档案编号",dataIndex:"fileNum"},{title:"姓名",dataIndex:"name"},{title:"胸牌号码",dataIndex:"badNum"},{title:"劳始日期",dataIndex:"contractLaborStart",sorter:!0,sortOrder:"contractLaborStart"===(t=t||{}).columnKey&&t.order},{title:"劳止日期",dataIndex:"contractLaborEnd",sorter:!0,sortOrder:"contractLaborEnd"===t.columnKey&&t.order},{title:"岗始日期",dataIndex:"jobAgreementStart",sorter:!0,sortOrder:"jobAgreementStart"===t.columnKey&&t.order},{title:"岗止日期",dataIndex:"jobAgreementEnd",sorter:!0,sortOrder:"jobAgreementEnd"===t.columnKey&&t.order},{title:"备注",dataIndex:"remark",scopedSlots:{customRender:"remark"},width:200},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},fixed:"right",width:100}]}},mounted:function(){this.fetch()},methods:{filterOption:function(t,e){return e.componentOptions.children[0].text.toUpperCase().indexOf(t.toUpperCase())>=0},onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced,this.advanced||(this.queryParams.badNum="",this.queryParams.remarkOnFixedPeriod="",this.queryParams.remarkRenew="",this.queryParams.remark="")},view:function(t){this.contractInsideInfo.data=t,this.contractInsideInfo.visiable=!0},add:function(){this.contractInsideAdd.visiable=!0},handleContractInsideAddClose:function(){this.contractInsideAdd.visiable=!1},handleContractInsideAddSuccess:function(){this.contractInsideAdd.visiable=!1,this.$message.success("新增编内合同成功"),this.search()},edit:function(t){this.$refs.contractInsideEdit.setFormValues(t),this.contractInsideEdit.visiable=!0},handleContractInsideEditClose:function(){this.contractInsideEdit.visiable=!1},handleContractInsideEditUntied:function(){this.search()},handleContractInsideEditSuccess:function(){this.contractInsideEdit.visiable=!1,this.$message.success("修改编内合同成功"),this.search()},handleContractInsideInfoClose:function(){this.contractInsideInfo.visiable=!1},batchDelete:function(){if(this.selectedRowKeys.length){var t=this;this.$confirm({title:"确定删除所选中的记录?",content:"当您点击确定按钮后，这些记录将会被彻底删除",centered:!0,onOk:function(){t.$delete("contractInside/"+t.selectedRowKeys.join(",")).then(function(){t.$message.success("删除成功"),t.selectedRowKeys=[],t.search()})},onCancel:function(){t.selectedRowKeys=[]}})}else this.$message.warning("请选择需要删除的记录")},exportExcel:function(){var t=this.sortedInfo,e=this.filteredInfo,a=void 0,r=void 0,s=void 0;this.pagination&&(s=this.pagination.total),t&&(a=t.field,r=t.order),this.$export("contractInside/excel",i()({sortField:a,sortOrder:r,pageSize:s},this.queryParams,e))},search:function(){var t=this.sortedInfo,e=this.filteredInfo,a=void 0,r=void 0;t&&(a=t.field,r=t.order),this.fetch(i()({sortField:a,sortOrder:r},this.queryParams,e))},reset:function(){this.selectedRowKeys=[],this.$refs.TableInfo.pagination.current=this.pagination.defaultCurrent,this.paginationInfo&&(this.paginationInfo.current=this.pagination.defaultCurrent,this.paginationInfo.pageSize=this.pagination.defaultPageSize),this.filteredInfo=null,this.sortedInfo=null,this.queryParams={},this.fetch()},handleTableChange:function(t,e,a){this.paginationInfo=t,this.filteredInfo=e,this.sortedInfo=a,this.contractInsideInfo.visiable=!1,this.fetch(i()({sortField:a.field,sortOrder:a.order},this.queryParams,e))},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.paginationInfo?(this.$refs.TableInfo.pagination.current=this.paginationInfo.current,this.$refs.TableInfo.pagination.pageSize=this.paginationInfo.pageSize,e.pageSize=this.paginationInfo.pageSize,e.pageNum=this.paginationInfo.current):(e.pageSize=this.pagination.defaultPageSize,e.pageNum=this.pagination.defaultCurrent),this.$get("contractInside",i()({},e)).then(function(e){var a=e.data,r=i()({},t.pagination);r.total=a.total,t.dataSource=a.rows,t.pagination=r,t.loading=!1})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[a("div",{class:t.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("a-row",[a("div",{class:t.advanced?null:"fold"},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"档案编号",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-auto-complete",{attrs:{dataSource:t.fileNumData,allowClear:!0,filterOption:t.filterOption},model:{value:t.queryParams.fileNum,callback:function(e){t.$set(t.queryParams,"fileNum",e)},expression:"queryParams.fileNum"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1)],1),t._v(" "),t.advanced?[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"胸牌号码",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.badNum,callback:function(e){t.$set(t.queryParams,"badNum",e)},expression:"queryParams.badNum"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"无固定期备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remarkOnFixedPeriod,callback:function(e){t.$set(t.queryParams,"remarkOnFixedPeriod",e)},expression:"queryParams.remarkOnFixedPeriod"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"续签备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remarkRenew,callback:function(e){t.$set(t.queryParams,"remarkRenew",e)},expression:"queryParams.remarkRenew"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remark,callback:function(e){t.$set(t.queryParams,"remark",e)},expression:"queryParams.remark"}})],1)],1)]:t._e()],2),t._v(" "),a("span",{staticStyle:{float:"right",margin:"3px auto 1em"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n            "+t._s(t.advanced?"收起":"展开")+"\n            "),a("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],1)],1),t._v(" "),a("div",[a("div",{staticClass:"operator"},[a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractInside:add",expression:"'contractInside:add'"}],attrs:{type:"primary",ghost:""},on:{click:t.add}},[t._v("新增")]),t._v(" "),a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractInside:delete",expression:"'contractInside:delete'"}],on:{click:t.batchDelete}},[t._v("删除")]),t._v(" "),a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractInside:export",expression:"'contractInside:export'"}],on:{click:t.exportExcel}},[t._v("导出Excel")])],1),t._v(" "),a("a-table",{ref:"TableInfo",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},scroll:{x:900},rowKey:"id"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"remark",fn:function(e){return[a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",[t._v(t._s(e))])]),t._v(" "),a("p",{staticStyle:{width:"200px","margin-bottom":"0"}},[t._v(t._s(e))])],2)]}},{key:"operation",fn:function(e,r){return[a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractInside:update",expression:"'contractInside:update'"}],attrs:{type:"setting",theme:"twoTone",twoToneColor:"#4a9ff5",title:"修改"},on:{click:function(e){return t.edit(r)}}}),t._v("\n         \n        "),a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractInside:view",expression:"'contractInside:view'"}],attrs:{type:"eye",theme:"twoTone",twoToneColor:"#42b983",title:"查看"},on:{click:function(e){return t.view(r)}}})]}}])})],1),t._v(" "),a("contract-inside-info",{attrs:{contractInsideInfoData:t.contractInsideInfo.data,contractInsideInfoVisiable:t.contractInsideInfo.visiable},on:{close:t.handleContractInsideInfoClose}}),t._v(" "),a("contract-inside-add",{attrs:{contractInsideAddVisiable:t.contractInsideAdd.visiable},on:{close:t.handleContractInsideAddClose,success:t.handleContractInsideAddSuccess}}),t._v(" "),a("contract-inside-edit",{ref:"contractInsideEdit",attrs:{contractInsideEditVisiable:t.contractInsideEdit.visiable},on:{close:t.handleContractInsideEditClose,untied:t.handleContractInsideEditUntied,success:t.handleContractInsideEditSuccess}})],1)},staticRenderFns:[]},c=a("VU/8")(d,l,!1,function(t){a("40S8")},"data-v-b56cc6ac",null);e.default=c.exports},LGCE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("dC1H"),i=a("et8n"),s=r.a.Item,n={components:{AStepItemGroup:i.a.Group,AStepItem:i.a,DetailListItem:s,DetailList:r.a},name:"ContractInsideInfo",props:{contractInsideInfoVisiable:{require:!0,default:!1},contractInsideInfoData:{require:!0}},data:function(){return{staffInsideData:{},loading:!1}},methods:{handleCancleClick:function(){this.staffInsideData={},this.$emit("close")},getType:function(t){return"0"===t?"固定工":"1"===t?"合同制":void 0},getGender:function(t){return"0"===t?"女":"1"===t?"男":void 0},getIsDisabilityCertificate:function(t){return"0"===t?"无":"1"===t?"有":void 0},getHouseholdRegistrationType:function(t){switch(t){case"0":return"外地农业";case"1":return"外地非农业";case"2":return"本地农业";case"3":return"本地非农业";default:return t}},getPost:function(t){switch(t){case"0":return"管理";case"1":return"技工";case"2":return"普工";case"3":return"专技";default:return t}}},watch:{contractInsideInfoVisiable:function(){var t=this;this.contractInsideInfoVisiable&&(this.loading=!0,this.$get("staffInside/getStaffInside",{staffId:this.contractInsideInfoData.staffId}).then(function(e){t.loading=!1,e.data&&(t.staffInsideData=e.data)}))}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"编内合同信息",centered:!0,width:1200,visible:t.contractInsideInfoVisiable,keyboard:!1,footer:null},on:{cancel:t.handleCancleClick}},[a("a-card",{attrs:{bordered:!1}},[a("a-card",{attrs:{bordered:!1}},[a("detail-list",{attrs:{title:"合同信息"}},[a("detail-list-item",{attrs:{term:"档案编号"}},[t._v(t._s(t.contractInsideInfoData.fileNum))]),t._v(" "),a("detail-list-item",{attrs:{term:"胸牌号码"}},[t._v(t._s(t.contractInsideInfoData.badNum))]),t._v(" "),a("detail-list-item",{attrs:{term:"无固定期备注"}},[t._v(t._s(t.contractInsideInfoData.remarkOnFixedPeriod))]),t._v(" "),a("detail-list-item",{attrs:{term:"劳动合同起始日期"}},[t._v(t._s(t.contractInsideInfoData.contractLaborStart))]),t._v(" "),a("detail-list-item",{attrs:{term:"劳动合同结束日期"}},[t._v(t._s(t.contractInsideInfoData.contractLaborEnd))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位协议起始日期"}},[t._v(t._s(t.contractInsideInfoData.jobAgreementStart))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位协议结束日期"}},[t._v(t._s(t.contractInsideInfoData.jobAgreementEnd))]),t._v(" "),a("detail-list-item",{attrs:{term:"续签备注"}},[t._v(t._s(t.contractInsideInfoData.remarkRenew))]),t._v(" "),a("detail-list-item",{attrs:{term:"备注"}},[t._v(t._s(t.contractInsideInfoData.remark))])],1)],1),t._v(" "),a("a-divider",{staticStyle:{"margin-bottom":"32px"}}),t._v(" "),a("a-card",{attrs:{loading:t.loading,bordered:!1}},[a("detail-list",{attrs:{title:"人员信息"}},[a("detail-list-item",{attrs:{term:"姓名"}},[t._v(t._s(t.staffInsideData.name))]),t._v(" "),a("detail-list-item",{attrs:{term:"部门"}},[t._v(t._s(t.staffInsideData.deptName))]),t._v(" "),a("detail-list-item",{attrs:{term:"人员类型"}},[t._v(t._s(t.getType(t.staffInsideData.type)))]),t._v(" "),a("detail-list-item",{attrs:{term:"事由"}},[t._v(t._s(t.staffInsideData.cause))]),t._v(" "),a("detail-list-item",{attrs:{term:"性别"}},[t._v(t._s(t.getGender(t.staffInsideData.gender)))]),t._v(" "),a("detail-list-item",{attrs:{term:"民族"}},[t._v(t._s(t.staffInsideData.clan))]),t._v(" "),a("detail-list-item",{attrs:{term:"籍贯"}},[t._v(t._s(t.staffInsideData.birthplace))]),t._v(" "),a("detail-list-item",{attrs:{term:"原学历"}},[t._v(t._s(t.staffInsideData.cultureBefore))]),t._v(" "),a("detail-list-item",{attrs:{term:"现学历"}},[t._v(t._s(t.staffInsideData.cultureCurrent))]),t._v(" "),a("detail-list-item",{attrs:{term:"户籍性质"}},[t._v(t._s(t.getHouseholdRegistrationType(t.staffInsideData.householdRegistrationType)))]),t._v(" "),a("detail-list-item",{attrs:{term:"专业"}},[t._v(t._s(t.staffInsideData.profession))]),t._v(" "),a("detail-list-item",{attrs:{term:"毕业日期"}},[t._v(t._s(t.staffInsideData.graduationDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"政治面貌"}},[t._v(t._s(t.staffInsideData.politicalFace))]),t._v(" "),a("detail-list-item",{attrs:{term:"有无残疾证"}},[t._v(t._s(t.getIsDisabilityCertificate(t.staffInsideData.isDisabilityCertificate)))]),t._v(" "),a("detail-list-item",{attrs:{term:"工伤证发证日期"}},[t._v(t._s(t.staffInsideData.workInjuryCertificateDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"伤残鉴定等级"}},[t._v(t._s(t.staffInsideData.disabilityIdentificationLevel))]),t._v(" "),a("detail-list-item",{attrs:{term:"家庭住址"}},[t._v(t._s(t.staffInsideData.address))]),t._v(" "),a("detail-list-item",{attrs:{term:"身份证号码"}},[t._v(t._s(t.staffInsideData.idNum))]),t._v(" "),a("detail-list-item",{attrs:{term:"座机联系电话"}},[t._v(t._s(t.staffInsideData.phoneLandLine))]),t._v(" "),a("detail-list-item",{attrs:{term:"手机联系电话"}},[t._v(t._s(t.staffInsideData.phoneCell))]),t._v(" "),a("detail-list-item",{attrs:{term:"出生年月"}},[t._v(t._s(t.staffInsideData.birthDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"年龄"}},[t._v(t._s(this.$tools.getAge(t.staffInsideData.birthDate)))]),t._v(" "),a("detail-list-item",{attrs:{term:"参加工作日期"}},[t._v(t._s(t.staffInsideData.workDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"农转工转工日期"}},[t._v(t._s(t.staffInsideData.farmerWorkDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"调入环卫或报到日期"}},[t._v(t._s(t.staffInsideData.transferDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"现任岗位职务"}},[t._v(t._s(t.staffInsideData.technicalType))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位"}},[t._v(t._s(t.getPost(t.staffInsideData.post)))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位级别"}},[t._v(t._s(t.staffInsideData.postLevel))]),t._v(" "),a("detail-list-item",{attrs:{term:"聘任时间"}},[t._v(t._s(t.staffInsideData.appointmentDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"技术等级取得日期"}},[t._v(t._s(t.staffInsideData.technicalLevelDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"证书编号"}},[t._v(t._s(t.staffInsideData.certificateNum))]),t._v(" "),a("detail-list-item",{attrs:{term:"入职状态"}},[t._v(t._s(t.staffInsideData.entryStatus))])],1)],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(n,o,!1,function(t){a("2rGb")},"data-v-611318ba",null);e.default=d.exports},PMnZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("fZjL"),n=a.n(s),o=a("+6Bu"),d=a.n(o),l=a("p1UK"),c=a("Zz1P"),m=a.n(c);m.a.locale("zh-cn");var f={labelCol:{span:4},wrapperCol:{span:17}},u={name:"ContractInsideEdit",components:{StaffInsideList:l.default},props:{contractInsideEditVisiable:{default:!1}},data:function(){return{id:"",loading:!1,formItemLayout:f,form:this.$form.createForm(this),staffInsideList:{visiable:!1},staffId:"",fileNumData:["编内合同制","编内固定工"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},untied:function(){var t=this;this.loading=!0,this.$put("contractInside",{id:this.id,staffId:0}).then(function(e){t.loading=!1,t.$message.success("解除绑定成功"),t.staffId="",t.form.getFieldDecorator("name"),t.form.setFieldsValue({name:""}),t.$emit("untied")})},selectName:function(){this.staffInsideList.visiable=!0},handleStaffInsideListChange:function(t,e){this.form.getFieldDecorator("name"),this.form.setFieldsValue({name:t}),this.staffId=e},handleStaffInsideListClose:function(){this.staffInsideList.visiable=!1},setFormValues:function(t){var e=this,a=d()(t,[]);this.id=a.id;var r={};n()(a).forEach(function(t){e.form.getFieldDecorator(t),r[t]=a[t]}),["contractLaborStart","contractLaborEnd","jobAgreementStart","jobAgreementEnd"].forEach(function(t){r[t]&&(r[t]=m()(r[t]))}),this.staffId=a.staffId,this.form.setFieldsValue(r)},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(e)t.$message.warning("格式出错，请检查表单");else{var r=a.contractLaborStart,s=a.contractLaborEnd,n=a.jobAgreementStart,o=a.jobAgreementEnd,d=i()({id:t.id,staffId:t.staffId},a,{contractLaborStart:r?r.format("YYYY-MM-DD"):r,contractLaborEnd:s?s.format("YYYY-MM-DD"):s,jobAgreementStart:n?n.format("YYYY-MM-DD"):n,jobAgreementEnd:o?o.format("YYYY-MM-DD"):o});t.loading=!0,t.$put("contractInside",i()({},d)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1})}})},filterOption:function(t,e){return e.componentOptions.children[0].text.toUpperCase().indexOf(t.toUpperCase())>=0}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改编内合同",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:t.contractInsideEditVisiable},on:{close:t.onClose}},[a("a-form",{attrs:{form:t.form}},[a("a-form-item",t._b({attrs:{label:"姓名"}},"a-form-item",t.formItemLayout,!1),[t.staffId?a("a-input-search",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{readOnly:"",placeholder:"姓名",autocomplete:"off"},on:{click:t.selectName,search:t.untied}},[a("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[t._v("解绑")])],1):a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{readOnly:"",autoFocus:"",placeholder:"姓名",autocomplete:"off"},on:{click:t.selectName}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"档案编号"}},"a-form-item",t.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["fileNum"],expression:"['fileNum']"}],attrs:{placeholder:"档案编号",dataSource:t.fileNumData,allowClear:!0,filterOption:t.filterOption}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"胸牌号码"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["badNum"],expression:"['badNum']"}],attrs:{placeholder:"胸牌号码",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"无固定期备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkOnFixedPeriod"],expression:"['remarkOnFixedPeriod']"}],attrs:{placeholder:"无固定期备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborStart"],expression:"['contractLaborStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborEnd"],expression:"['contractLaborEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementStart"],expression:"['jobAgreementStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementEnd"],expression:"['jobAgreementEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"续签备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkRenew"],expression:"['remarkRenew']"}],attrs:{placeholder:"续签备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),t._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:t.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[t._v("取消")])],1),t._v(" "),a("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("提交")])],1),t._v(" "),a("staff-inside-list",{attrs:{staffInsideListVisiable:t.staffInsideList.visiable,lowCause:"123123"},on:{change:t.handleStaffInsideListChange,close:t.handleStaffInsideListClose}})],1)},staticRenderFns:[]},p=a("VU/8")(u,v,!1,null,null,null);e.default=p.exports},SnDY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s={labelCol:{span:4},wrapperCol:{span:17}},n={name:"ContractInsideAdd",components:{StaffInsideList:a("p1UK").default},props:{contractInsideAddVisiable:{default:!1}},data:function(){return{loading:!1,formItemLayout:s,form:this.$form.createForm(this),staffInsideList:{visiable:!1},staffId:"",fileNumData:["编内合同制","编内固定工"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},selectName:function(){this.staffInsideList.visiable=!0},handleStaffInsideListChange:function(t,e){this.form.getFieldDecorator("name"),this.form.setFieldsValue({name:t}),this.staffId=e},handleStaffInsideListClose:function(){this.staffInsideList.visiable=!1},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(e)t.$message.warning("格式出错，请检查表单");else{var r=a.contractLaborStart,s=a.contractLaborEnd,n=a.jobAgreementStart,o=a.jobAgreementEnd,d=i()({},a,{staffId:t.staffId,contractLaborStart:r?r.format("YYYY-MM-DD"):r,contractLaborEnd:s?s.format("YYYY-MM-DD"):s,jobAgreementStart:n?n.format("YYYY-MM-DD"):n,jobAgreementEnd:o?o.format("YYYY-MM-DD"):o});t.loading=!0,t.$post("contractInside",i()({},d)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1})}})},filterOption:function(t,e){return e.componentOptions.children[0].text.toUpperCase().indexOf(t.toUpperCase())>=0}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"新增编内合同",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:t.contractInsideAddVisiable},on:{close:t.onClose}},[a("a-form",{attrs:{form:t.form}},[a("a-form-item",t._b({attrs:{label:"姓名"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{readOnly:"",autoFocus:"",placeholder:"姓名",autocomplete:"off"},on:{click:t.selectName}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"档案编号"}},"a-form-item",t.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["fileNum"],expression:"['fileNum']"}],attrs:{placeholder:"档案编号",dataSource:t.fileNumData,allowClear:!0,filterOption:t.filterOption}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"胸牌号码"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["badNum"],expression:"['badNum']"}],attrs:{placeholder:"胸牌号码",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"无固定期备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkOnFixedPeriod"],expression:"['remarkOnFixedPeriod']"}],attrs:{placeholder:"无固定期备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborStart"],expression:"['contractLaborStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborEnd"],expression:"['contractLaborEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementStart"],expression:"['jobAgreementStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementEnd"],expression:"['jobAgreementEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"续签备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkRenew"],expression:"['remarkRenew']"}],attrs:{placeholder:"续签备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),t._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:t.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[t._v("取消")])],1),t._v(" "),a("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("提交")])],1),t._v(" "),a("staff-inside-list",{attrs:{staffInsideListVisiable:t.staffInsideList.visiable,lowCause:"123123"},on:{change:t.handleStaffInsideListChange,close:t.handleStaffInsideListClose}})],1)},staticRenderFns:[]},d=a("VU/8")(n,o,!1,null,null,null);e.default=d.exports}});