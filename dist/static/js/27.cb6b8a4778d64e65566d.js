webpackJsonp([27,100,129,130],{"4SIR":function(e,t){},CGmV:function(e,t){},IJga:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=a.n(r),i=a("Zbla"),s=a("Zz1P"),n=a.n(s);n.a.locale("zh-cn");var l={labelCol:{span:4},wrapperCol:{span:17}},m={name:"StaffInsideAdd",components:{DeptInputTree:i.default},props:{staffInsideAddVisiable:{default:!1},technicalTypeData:{require:!0},entryStatusData:{require:!0},postLevelData:{require:!0},deptTreeData:{require:!0}},data:function(){return{loading:!1,formItemLayout:l,form:this.$form.createForm(this),causeData:["在册","增加","解除","调离","终止","退休","亡故"],cultureData:["小学","初中","高中","专科","本科","硕士","博士"],politicalFaceData:["群众","团员","党员","预备党员"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onIdNumChange:function(){var e=this.form.getFieldValue("idNum"),t=n()(this.$tools.getBirthday(e)),a=this.$tools.getBirthplace(e),r=this.$tools.getGender(e);this.form.getFieldDecorator("birthDate"),this.form.getFieldDecorator("birthplace"),this.form.getFieldDecorator("gender"),this.form.setFieldsValue({birthDate:t}),this.form.setFieldsValue({birthplace:a}),this.form.setFieldsValue({gender:r+""})},onClose:function(){this.reset(),this.$emit("close")},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){if(t)e.$message.warning("格式出错，请检查表单");else{var r=a.birthDate,i=a.graduationDate,s=a.workInjuryCertificateDate,n=a.workDate,l=a.farmerWorkDate,m=a.transferDate,d=a.technicalLevelDate,c=a.appointmentDate,f=o()({},a,{birthDate:r?r.format("YYYY-MM-DD"):r,graduationDate:i?i.format("YYYY-MM-DD"):i,workInjuryCertificateDate:s?s.format("YYYY-MM-DD"):s,workDate:n?n.format("YYYY-MM-DD"):n,farmerWorkDate:l?l.format("YYYY-MM-DD"):l,transferDate:m?m.format("YYYY-MM-DD"):m,technicalLevelDate:d?d.format("YYYY-MM-DD"):d,appointmentDate:c?c.format("YYYY-MM-DD"):c});e.loading=!0,e.$post("staffInside",o()({},f)).then(function(t){e.reset(),e.$emit("success")}).catch(function(){e.loading=!1})}})},filterOption:function(e,t){return t.componentOptions.children[0].text.toUpperCase().indexOf(e.toUpperCase())>=0}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"新增编内人员",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:e.staffInsideAddVisiable},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"姓名"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"姓名不能为空"}]}],expression:"['name',\n          {rules: [{ required: true, message: '姓名不能为空'}]}\n        ]"}],attrs:{placeholder:"姓名",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"户籍性质"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["householdRegistrationType"],expression:"['householdRegistrationType']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("外地农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("外地非农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"2"}},[e._v("本地农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"3"}},[e._v("本地非农业")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"人员类型"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择人员类型"}]}],expression:"['type',\n          {rules: [{ required: true, message: '请选择人员类型'}]}\n        ]"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("固定工")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("合同制")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"部门"}},"a-form-item",e.formItemLayout,!1),[a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["deptId"],expression:"['deptId']"}],attrs:{allowClear:!0,dropdownStyle:{maxHeight:"220px",overflow:"auto"},treeData:e.deptTreeData}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"事由"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cause"],expression:"['cause']"}],attrs:{placeholder:"事由",dataSource:e.causeData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"身份证号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idNum",{rules:[{required:!0,message:"身份证号不能为空"}]}],expression:"['idNum',{rules: [\n          {required: true, message: '身份证号不能为空'},\n        ]}]"}],attrs:{placeholder:"身份证号",autocomplete:"off"},on:{blur:e.onIdNumChange}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"民族"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["clan"],expression:"['clan']"}],attrs:{placeholder:"民族",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"籍贯"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthplace"],expression:"['birthplace']"}],attrs:{placeholder:"籍贯",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"性别"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender"],expression:"['gender']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("女")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("男")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"出生年月"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthDate"],expression:"['birthDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"出生年月",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"家庭住址"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["address"],expression:"['address']"}],attrs:{placeholder:"家庭住址",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"座机联系电话"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneLandLine"],expression:"['phoneLandLine']"}],attrs:{placeholder:"座机电话",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"手机联系电话"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneCell"],expression:"['phoneCell']"}],attrs:{placeholder:"手机电话",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"原学历"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cultureBefore"],expression:"['cultureBefore']"}],attrs:{placeholder:"原学历",dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"现学历"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cultureCurrent"],expression:"['cultureCurrent']"}],attrs:{placeholder:"现学历",dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"专业"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["profession"],expression:"['profession']"}],attrs:{placeholder:"专业",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"毕业日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["graduationDate"],expression:"['graduationDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"毕业日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"政治面貌"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["politicalFace"],expression:"['politicalFace']"}],attrs:{placeholder:"政治面貌",dataSource:e.politicalFaceData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"残疾证"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isDisabilityCertificate"],expression:"['isDisabilityCertificate']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("无")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("有")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"工伤证日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["workInjuryCertificateDate"],expression:"['workInjuryCertificateDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"工伤证发证日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"伤残鉴定等级"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["disabilityIdentificationLevel"],expression:"['disabilityIdentificationLevel']"}],attrs:{placeholder:"伤残鉴定等级",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"参加工作日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["workDate"],expression:"['workDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"参加工作日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"农转工日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["farmerWorkDate"],expression:"['farmerWorkDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"农转工转工日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"调入日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["transferDate"],expression:"['transferDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"调入或报到日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"岗位"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["post"],expression:"['post']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("管理")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("技工")]),e._v(" "),a("a-radio-button",{attrs:{value:"2"}},[e._v("普工")]),e._v(" "),a("a-radio-button",{attrs:{value:"3"}},[e._v("专技")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"现任岗位职务"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["technicalType",{rules:[{required:!0,message:"现任岗位职务不能为空"}]}],expression:"['technicalType',\n          {rules: [{ required: true, message: '现任岗位职务不能为空'}]}\n        ]"}],attrs:{placeholder:"现任岗位职务",dataSource:e.technicalTypeData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"岗位级别"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["postLevel"],expression:"['postLevel']"}],attrs:{placeholder:"岗位级别",dataSource:e.postLevelData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"等级取得日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["technicalLevelDate"],expression:"['technicalLevelDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"技术等级取得日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"聘任时间"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["appointmentDate"],expression:"['appointmentDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"聘任时间",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"证书编号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["certificateNum"],expression:"['certificateNum']"}],attrs:{placeholder:"证书编号",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"入职状态"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["entryStatus"],expression:"['entryStatus']"}],attrs:{placeholder:"入职状态",dataSource:e.entryStatusData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"排序编号"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNum"],expression:"['sortNum']"}],staticStyle:{width:"100%"},attrs:{placeholder:"排序编号",autocomplete:"off"}})],1)],1),e._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),e._v(" "),a("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)},staticRenderFns:[]},c=a("VU/8")(m,d,!1,null,null,null);t.default=c.exports},"L/LT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("dC1H"),o=a("et8n"),i=r.a.Item,s={components:{AStepItemGroup:o.a.Group,AStepItem:o.a,DetailListItem:i,DetailList:r.a},name:"ContractInsideInfo",props:{staffInsideInfoVisiable:{require:!0,default:!1},staffInsideInfoData:{require:!0}},data:function(){return{contractInsideData:{},loading:!1}},methods:{handleCancleClick:function(){this.contractInsideData={},this.$emit("close")},getType:function(e){return"0"===e?"固定工":"1"===e?"合同制":void 0},getGender:function(e){return"0"===e?"女":"1"===e?"男":void 0},getIsDisabilityCertificate:function(e){return"0"===e?"无":"1"===e?"有":void 0},getHouseholdRegistrationType:function(e){switch(e){case"0":return"外地农业";case"1":return"外地非农业";case"2":return"本地农业";case"3":return"本地非农业";default:return e}},getPost:function(e){switch(e){case"0":return"管理";case"1":return"技工";case"2":return"普工";case"3":return"专技";default:return e}}},watch:{staffInsideInfoVisiable:function(){var e=this;this.staffInsideInfoVisiable&&(this.loading=!0,this.$get("contractInside/getContractInside",{staffInsideId:this.staffInsideInfoData.staffId}).then(function(t){e.loading=!1,t.data&&(e.contractInsideData=t.data)}))}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"编内人员信息",centered:!0,width:1200,visible:e.staffInsideInfoVisiable,keyboard:!1,footer:null},on:{cancel:e.handleCancleClick}},[a("a-card",{attrs:{bordered:!1}},[a("a-card",{attrs:{bordered:!1}},[a("detail-list",{attrs:{title:"人员信息"}},[a("detail-list-item",{attrs:{term:"姓名"}},[e._v(e._s(e.staffInsideInfoData.name))]),e._v(" "),a("detail-list-item",{attrs:{term:"部门"}},[e._v(e._s(e.staffInsideInfoData.deptName))]),e._v(" "),a("detail-list-item",{attrs:{term:"人员类型"}},[e._v(e._s(e.getType(e.staffInsideInfoData.type)))]),e._v(" "),a("detail-list-item",{attrs:{term:"事由"}},[e._v(e._s(e.staffInsideInfoData.cause))]),e._v(" "),a("detail-list-item",{attrs:{term:"性别"}},[e._v(e._s(e.getGender(e.staffInsideInfoData.gender)))]),e._v(" "),a("detail-list-item",{attrs:{term:"民族"}},[e._v(e._s(e.staffInsideInfoData.clan))]),e._v(" "),a("detail-list-item",{attrs:{term:"籍贯"}},[e._v(e._s(e.staffInsideInfoData.birthplace))]),e._v(" "),a("detail-list-item",{attrs:{term:"原学历"}},[e._v(e._s(e.staffInsideInfoData.cultureBefore))]),e._v(" "),a("detail-list-item",{attrs:{term:"现学历"}},[e._v(e._s(e.staffInsideInfoData.cultureCurrent))]),e._v(" "),a("detail-list-item",{attrs:{term:"户籍性质"}},[e._v(e._s(e.getHouseholdRegistrationType(e.staffInsideInfoData.householdRegistrationType)))]),e._v(" "),a("detail-list-item",{attrs:{term:"专业"}},[e._v(e._s(e.staffInsideInfoData.profession))]),e._v(" "),a("detail-list-item",{attrs:{term:"毕业日期"}},[e._v(e._s(e.staffInsideInfoData.graduationDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"政治面貌"}},[e._v(e._s(e.staffInsideInfoData.politicalFace))]),e._v(" "),a("detail-list-item",{attrs:{term:"有无残疾证"}},[e._v(e._s(e.getIsDisabilityCertificate(e.staffInsideInfoData.isDisabilityCertificate)))]),e._v(" "),a("detail-list-item",{attrs:{term:"工伤证发证日期"}},[e._v(e._s(e.staffInsideInfoData.workInjuryCertificateDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"伤残鉴定等级"}},[e._v(e._s(e.staffInsideInfoData.disabilityIdentificationLevel))]),e._v(" "),a("detail-list-item",{attrs:{term:"家庭住址"}},[e._v(e._s(e.staffInsideInfoData.address))]),e._v(" "),a("detail-list-item",{attrs:{term:"身份证号码"}},[e._v(e._s(e.staffInsideInfoData.idNum))]),e._v(" "),a("detail-list-item",{attrs:{term:"座机联系电话"}},[e._v(e._s(e.staffInsideInfoData.phoneLandLine))]),e._v(" "),a("detail-list-item",{attrs:{term:"手机联系电话"}},[e._v(e._s(e.staffInsideInfoData.phoneCell))]),e._v(" "),a("detail-list-item",{attrs:{term:"出生年月"}},[e._v(e._s(e.staffInsideInfoData.birthDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"年龄"}},[e._v(e._s(this.$tools.getAge(e.staffInsideInfoData.birthDate)))]),e._v(" "),a("detail-list-item",{attrs:{term:"参加工作日期"}},[e._v(e._s(e.staffInsideInfoData.workDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"农转工转工日期"}},[e._v(e._s(e.staffInsideInfoData.farmerWorkDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"调入环卫或报到日期"}},[e._v(e._s(e.staffInsideInfoData.transferDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"现任岗位职务"}},[e._v(e._s(e.staffInsideInfoData.technicalType))]),e._v(" "),a("detail-list-item",{attrs:{term:"岗位"}},[e._v(e._s(e.getPost(e.staffInsideInfoData.post)))]),e._v(" "),a("detail-list-item",{attrs:{term:"岗位级别"}},[e._v(e._s(e.staffInsideInfoData.postLevel))]),e._v(" "),a("detail-list-item",{attrs:{term:"聘任时间"}},[e._v(e._s(e.staffInsideInfoData.appointmentDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"技术等级取得日期"}},[e._v(e._s(e.staffInsideInfoData.technicalLevelDate))]),e._v(" "),a("detail-list-item",{attrs:{term:"证书编号"}},[e._v(e._s(e.staffInsideInfoData.certificateNum))]),e._v(" "),a("detail-list-item",{attrs:{term:"入职状态"}},[e._v(e._s(e.staffInsideInfoData.entryStatus))])],1)],1),e._v(" "),a("a-divider",{staticStyle:{"margin-bottom":"32px"}}),e._v(" "),a("a-card",{attrs:{loading:e.loading,bordered:!1}},[a("detail-list",{attrs:{title:"合同信息"}},[a("detail-list-item",{attrs:{term:"档案编号"}},[e._v(e._s(e.contractInsideData.fileNum))]),e._v(" "),a("detail-list-item",{attrs:{term:"胸牌号码"}},[e._v(e._s(e.contractInsideData.badNum))]),e._v(" "),a("detail-list-item",{attrs:{term:"无固定期备注"}},[e._v(e._s(e.contractInsideData.remarkOnFixedPeriod))]),e._v(" "),a("detail-list-item",{attrs:{term:"劳动合同起始日期"}},[e._v(e._s(e.contractInsideData.contractLaborStart))]),e._v(" "),a("detail-list-item",{attrs:{term:"劳动合同结束日期"}},[e._v(e._s(e.contractInsideData.contractLaborEnd))]),e._v(" "),a("detail-list-item",{attrs:{term:"岗位协议起始日期"}},[e._v(e._s(e.contractInsideData.jobAgreementStart))]),e._v(" "),a("detail-list-item",{attrs:{term:"岗位协议结束日期"}},[e._v(e._s(e.contractInsideData.jobAgreementEnd))]),e._v(" "),a("detail-list-item",{attrs:{term:"续签备注"}},[e._v(e._s(e.contractInsideData.remarkRenew))]),e._v(" "),a("detail-list-item",{attrs:{term:"备注"}},[e._v(e._s(e.contractInsideData.remark))])],1)],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(s,n,!1,function(e){a("CGmV")},"data-v-096c9439",null);t.default=l.exports},Ug6x:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=a.n(r),i=a("fZjL"),s=a.n(i),n=a("+6Bu"),l=a.n(n),m=a("Zbla"),d=a("Zz1P"),c=a.n(d);c.a.locale("zh-cn");var f={labelCol:{span:4},wrapperCol:{span:17}},u={name:"StaffInsideEdit",components:{DeptInputTree:m.default},props:{staffInsideEditVisiable:{default:!1},technicalTypeData:{require:!0},entryStatusData:{require:!0},postLevelData:{require:!0},deptTreeData:{require:!0}},data:function(){return{staffId:"",deptId:"",loading:!1,formItemLayout:f,form:this.$form.createForm(this),causeData:["在册","增加","解除","调离","终止","退休","亡故"],cultureData:["小学","初中","高中","专科","本科","硕士","博士"],politicalFaceData:["群众","团员","党员","预备党员"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onIdNumChange:function(){var e=this.form.getFieldValue("idNum"),t=c()(this.$tools.getBirthday(e)),a=this.$tools.getBirthplace(e),r=this.$tools.getGender(e);this.form.getFieldDecorator("birthDate"),this.form.getFieldDecorator("birthplace"),this.form.getFieldDecorator("gender"),this.form.setFieldsValue({birthDate:t}),this.form.setFieldsValue({birthplace:a}),this.form.setFieldsValue({gender:r+""})},onClose:function(){this.reset(),this.$emit("close")},setFormValues:function(e){var t=this,a=l()(e,[]);a.deptId=[a.deptId]||[],this.staffId=a.staffId;var r={};s()(a).forEach(function(e){t.form.getFieldDecorator(e),r[e]=a[e]}),["leaveDate","birthDate","graduationDate","workInjuryCertificateDate","workDate","farmerWorkDate","transferDate","technicalLevelDate","appointmentDate"].forEach(function(e){r[e]&&(r[e]=c()(r[e]))}),this.form.setFieldsValue(r)},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){if(t)e.$message.warning("格式出错，请检查表单");else{var r=a.leaveDate,i=a.birthDate,s=a.graduationDate,n=a.workInjuryCertificateDate,l=a.workDate,m=a.farmerWorkDate,d=a.transferDate,c=a.technicalLevelDate,f=a.appointmentDate,u=o()({staffId:e.staffId},a,{leaveDate:r?r.format("YYYY-MM-DD"):r,birthDate:i?i.format("YYYY-MM-DD"):i,graduationDate:s?s.format("YYYY-MM-DD"):s,workInjuryCertificateDate:n?n.format("YYYY-MM-DD"):n,workDate:l?l.format("YYYY-MM-DD"):l,farmerWorkDate:m?m.format("YYYY-MM-DD"):m,transferDate:d?d.format("YYYY-MM-DD"):d,technicalLevelDate:c?c.format("YYYY-MM-DD"):c,appointmentDate:f?f.format("YYYY-MM-DD"):f});e.loading=!0,e.$put("staffInside",o()({},u)).then(function(t){e.reset(),e.$emit("success")}).catch(function(){e.loading=!1})}})},filterOption:function(e,t){return t.componentOptions.children[0].text.toUpperCase().indexOf(e.toUpperCase())>=0}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改编内人员",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:e.staffInsideEditVisiable},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"在职与否"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isLeave",{rules:[{required:!0,message:"请选择人员状态"}]}],expression:"['isLeave',\n          {rules: [{ required: true, message: '请选择人员状态'}]}\n        ]"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("在职")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("非在职")])],1)],1),e._v(" "),"1"===e.form.getFieldValue("isLeave")?a("a-form-item",e._b({attrs:{label:"非在职日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["leaveDate",{rules:[{required:!0,message:"[减少]日期不能为空"}]}],expression:"['leaveDate',{\n          rules: [{required: true, message: '[减少]日期不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"[减少]日期",format:"YYYY-MM-DD"}})],1):e._e(),e._v(" "),a("a-form-item",e._b({attrs:{label:"姓名"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"姓名不能为空"}]}],expression:"['name',\n          {rules: [{ required: true, message: '姓名不能为空'}]}\n        ]"}],attrs:{placeholder:"姓名",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"户籍性质"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["householdRegistrationType"],expression:"['householdRegistrationType']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("外地农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("外地非农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"2"}},[e._v("本地农业")]),e._v(" "),a("a-radio-button",{attrs:{value:"3"}},[e._v("本地非农业")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"人员类型"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择人员类型"}]}],expression:"['type',\n          {rules: [{ required: true, message: '请选择人员类型'}]}\n        ]"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("固定工")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("合同制")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"部门"}},"a-form-item",e.formItemLayout,!1),[a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["deptId"],expression:"['deptId']"}],attrs:{allowClear:!0,dropdownStyle:{maxHeight:"220px",overflow:"auto"},treeData:e.deptTreeData}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"事由"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cause"],expression:"['cause']"}],attrs:{placeholder:"事由",dataSource:e.causeData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"身份证号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idNum",{rules:[{required:!0,message:"身份证号不能为空"}]}],expression:"['idNum',{rules: [\n          {required: true, message: '身份证号不能为空'},\n        ]}]"}],attrs:{placeholder:"身份证号",autocomplete:"off"},on:{blur:e.onIdNumChange}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"民族"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["clan"],expression:"['clan']"}],attrs:{placeholder:"民族",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"籍贯"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthplace"],expression:"['birthplace']"}],attrs:{placeholder:"籍贯",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"性别"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender"],expression:"['gender']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("女")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("男")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"出生年月"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthDate"],expression:"['birthDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"出生年月",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"家庭住址"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["address"],expression:"['address']"}],attrs:{placeholder:"家庭住址",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"座机联系电话"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneLandLine"],expression:"['phoneLandLine']"}],attrs:{placeholder:"座机电话",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"手机联系电话"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneCell"],expression:"['phoneCell']"}],attrs:{placeholder:"手机电话",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"原学历"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cultureBefore"],expression:"['cultureBefore']"}],attrs:{placeholder:"原学历",dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"现学历"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["cultureCurrent"],expression:"['cultureCurrent']"}],attrs:{placeholder:"现学历",dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"专业"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["profession"],expression:"['profession']"}],attrs:{placeholder:"专业",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"毕业日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["graduationDate"],expression:"['graduationDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"毕业日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"政治面貌"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["politicalFace"],expression:"['politicalFace']"}],attrs:{placeholder:"政治面貌",dataSource:e.politicalFaceData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"残疾证"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isDisabilityCertificate"],expression:"['isDisabilityCertificate']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("无")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("有")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"工伤证日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["workInjuryCertificateDate"],expression:"['workInjuryCertificateDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"工伤证发证日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"伤残鉴定等级"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["disabilityIdentificationLevel"],expression:"['disabilityIdentificationLevel']"}],attrs:{placeholder:"伤残鉴定等级",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"参加工作日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["workDate"],expression:"['workDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"参加工作日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"农转工日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["farmerWorkDate"],expression:"['farmerWorkDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"农转工转工日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"调入日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["transferDate"],expression:"['transferDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"调入或报到日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"岗位"}},"a-form-item",e.formItemLayout,!1),[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["post"],expression:"['post']"}]},[a("a-radio-button",{attrs:{value:"0"}},[e._v("管理")]),e._v(" "),a("a-radio-button",{attrs:{value:"1"}},[e._v("技工")]),e._v(" "),a("a-radio-button",{attrs:{value:"2"}},[e._v("普工")]),e._v(" "),a("a-radio-button",{attrs:{value:"3"}},[e._v("专技")])],1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"现任岗位职务"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["technicalType",{rules:[{required:!0,message:"现任岗位职务不能为空"}]}],expression:"['technicalType',\n          {rules: [{ required: true, message: '现任岗位职务不能为空'}]}\n        ]"}],attrs:{placeholder:"现任岗位职务",dataSource:e.technicalTypeData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"岗位级别"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["postLevel"],expression:"['postLevel']"}],attrs:{placeholder:"岗位级别",dataSource:e.postLevelData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"等级取得日期"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["technicalLevelDate"],expression:"['technicalLevelDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"技术等级取得日期",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"聘任时间"}},"a-form-item",e.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["appointmentDate"],expression:"['appointmentDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"聘任时间",format:"YYYY-MM-DD"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"证书编号"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["certificateNum"],expression:"['certificateNum']"}],attrs:{placeholder:"证书编号",autocomplete:"off"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"入职状态"}},"a-form-item",e.formItemLayout,!1),[a("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["entryStatus"],expression:"['entryStatus']"}],attrs:{placeholder:"入职状态",dataSource:e.entryStatusData,allowClear:!0,filterOption:e.filterOption}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"排序编号"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNum"],expression:"['sortNum']"}],staticStyle:{width:"100%"},attrs:{placeholder:"排序编号",autocomplete:"off"}})],1)],1),e._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),e._v(" "),a("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)},staticRenderFns:[]},v=a("VU/8")(u,p,!1,null,null,null);t.default=v.exports},"u/mT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),o=a.n(r),i=a("Zbla"),s=a("L/LT"),n=a("IJga"),l=a("Ug6x"),m=a("Mc2z"),d={name:"StaffInside",components:{DeptInputTree:i.default,StaffInsideInfo:s.default,StaffInsideAdd:n.default,StaffInsideEdit:l.default},data:function(){return{changeType:"",changeDate:"",modalVisible:!1,isLeave:"0",advanced:!1,staffInsideInfo:{visiable:!1,data:{}},staffInsideAdd:{visiable:!1,data:{}},staffInsideEdit:{visiable:!1,data:{}},deptTreeData:[],technicalTypeData:[],entryStatusData:[],postLevelData:[],causeData:["在册","增加","解除","调离","终止","退休","亡故"],cultureData:["小学","初中","高中","专科","本科","硕士","博士"],politicalFaceData:["群众","团员","党员","预备党员"],queryParams:{mini:"",max:"",deptId:"",technicalType:[],entryStatus:[],postLevel:[]},filteredInfo:null,sortedInfo:null,paginationInfo:null,dataSource:[],selectedRowKeys:[],loading:!1,pagination:{pageSizeOptions:["10","20","30","40","100"],defaultCurrent:1,defaultPageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e,t){return"显示 "+t[0]+" ~ "+t[1]+" 条记录，共 "+e+" 条记录"}}}},computed:{filteredTechnicalTypeOptions:function(){var e=this;return this.technicalTypeData.filter(function(t){return!e.queryParams.technicalType.includes(t)})},filteredEntryStatusOptions:function(){var e=this;return this.entryStatusData.filter(function(t){return!e.queryParams.entryStatus.includes(t)})},filteredPostLevelOptions:function(){var e=this;return this.postLevelData.filter(function(t){return!e.queryParams.postLevel.includes(t)})},columns:function(){var e=this.filteredInfo;return[{title:"序号",dataIndex:"sortNum"},{title:"姓名",dataIndex:"name"},{title:"档案编号",dataIndex:"fileNum"},{title:"事由",dataIndex:"cause"},{title:"人员类型",dataIndex:"type",customRender:function(e,t,a){switch(e){case"0":return"固定工";case"1":return"合同制";default:return e}},filters:[{text:"固定工",value:"0"},{text:"合同制",value:"1"}],filterMultiple:!0,filteredValue:(e=e||{}).type||null,onFilter:function(e,t){return t.type.includes(e)}},{title:"性别",dataIndex:"gender",customRender:function(e,t,a){switch(e){case"0":return"女";case"1":return"男";default:return e}},filters:[{text:"女",value:"0"},{text:"男",value:"1"}],filterMultiple:!1,filteredValue:e.gender||null,onFilter:function(e,t){return t.gender.includes(e)}},{title:"岗位",dataIndex:"post",customRender:function(e,t,a){switch(e){case"0":return"管理";case"1":return"技工";case"2":return"普工";case"3":return"专技";default:return e}},filters:[{text:"管理",value:"0"},{text:"技工",value:"1"},{text:"普工",value:"2"},{text:"专技",value:"3"}],filterMultiple:!0,filteredValue:e.post||null,onFilter:function(e,t){return t.post.includes(e)}},{title:"岗位等级",dataIndex:"postLevel"},{title:"岗位职务",dataIndex:"technicalType"},{title:"户籍性质",dataIndex:"householdRegistrationType",customRender:function(e,t,a){switch(e){case"0":return"外地农业";case"1":return"外地非农业";case"2":return"本地农业";case"3":return"本地非农业";default:return e}},filters:[{text:"外地农业",value:"0"},{text:"外地非农业",value:"1"},{text:"本地农业",value:"2"},{text:"本地非农业",value:"3"}],filterMultiple:!0},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},fixed:"right",width:100}]}},mounted:function(){this.loadSelect(),this.fetch()},methods:{staffChange:function(){var e=this;this.changeDate?(this.modalVisible=!1,this.$get("staffInside/getIncreaseOrDecreaseStaffInside",{birthDate:this.changeDate,isLeave:this.changeType}).then(function(t){var a=[];t.data.forEach(function(e){a.push([e.type,e.name,e.idNum,"1"===e.gender?"男":"女"])}),e.$message.loading("正在生成",3,function(){var t=Object(m.d)("Staff");t=Object(m.b)(t,"Staff",a);var r=(0===e.changeType?"增加":"减少")+"人员报表_"+e.changeDate+".xlsx";Object(m.e)(t,r),Object(m.c)(t,"Staff",a.length)})})):this.$message.warning("请选择日期")},handleYearMonthChange:function(e){this.changeDate=e?e.format("YYYY-MM"):""},showModal:function(e){this.changeType=e,this.modalVisible=!0},filterOption:function(e,t){return t.componentOptions.children[0].text.toUpperCase().indexOf(e.toUpperCase())>=0},onSelectChange:function(e){this.selectedRowKeys=e},toggleAdvanced:function(){this.advanced=!this.advanced,this.advanced||(this.queryParams.cause="",this.queryParams.clan="",this.queryParams.birthplace="",this.queryParams.cultureBefore="",this.queryParams.cultureCurrent="",this.queryParams.politicalFace="",this.queryParams.isDisabilityCertificate="",this.queryParams.idNum="",this.queryParams.address="",this.queryParams.phoneLandLine="",this.queryParams.phoneCell="",this.queryParams.technicalType="",this.queryParams.entryStatus="",this.queryParams.postLevel="",this.queryParams.mini="",this.queryParams.max="")},view:function(e){this.staffInsideInfo.data=e,this.staffInsideInfo.visiable=!0},add:function(){this.staffInsideAdd.visiable=!0},handleStaffInsideAddClose:function(){this.staffInsideAdd.visiable=!1},handleStaffInsideAddSuccess:function(){this.staffInsideAdd.visiable=!1,this.$message.success("新增编内人员成功"),this.search()},edit:function(e){this.$refs.staffInsideEdit.setFormValues(e),this.staffInsideEdit.visiable=!0},handleStaffInsideEditClose:function(){this.staffInsideEdit.visiable=!1},handleStaffInsideEditSuccess:function(){this.staffInsideEdit.visiable=!1,this.$message.success("修改编内人员成功"),this.search()},handleStaffInsideInfoClose:function(){this.staffInsideInfo.visiable=!1},handleDeptChange:function(e){this.queryParams.deptId=e||""},handleIsDisabilityCertificateChange:function(e){this.queryParams.isDisabilityCertificate=e||""},handleTechnicalTypeChange:function(e){this.queryParams.technicalType=e||""},handleEntryStatusChange:function(e){this.queryParams.entryStatus=e||""},handlePostLevelChange:function(e){this.queryParams.postLevel=e||""},onMiniChange:function(e){var t=e.target.value;(!isNaN(t)&&/^(0|[1-9][0-9]*)$/.test(t)||""===t)&&(this.queryParams.mini=t)},onMaxChange:function(e){var t=e.target.value;(!isNaN(t)&&/^(0|[1-9][0-9]*)$/.test(t)||""===t)&&(this.queryParams.max=t)},batchDelete:function(){if(this.selectedRowKeys.length){var e=this;this.$confirm({title:"确定删除所选中的记录?",content:"当您点击确定按钮后，这些记录将会被彻底删除",centered:!0,onOk:function(){e.$delete("staffInside/"+e.selectedRowKeys.join(",")).then(function(){e.$message.success("删除成功"),e.selectedRowKeys=[],e.search()})},onCancel:function(){e.selectedRowKeys=[]}})}else this.$message.warning("请选择需要删除的记录")},exportExcel:function(){var e=this.sortedInfo,t=this.filteredInfo,a=void 0,r=void 0,i=void 0;this.pagination&&(i=this.pagination.total),e&&(a=e.field,r=e.order),this.$export("staffInside/excel",o()({isLeave:this.isLeave,sortField:a,sortOrder:r,pageSize:i},this.queryParams,t))},search:function(){var e=this.sortedInfo,t=this.filteredInfo,a=void 0,r=void 0;e&&(a=e.field,r=e.order),this.fetch(o()({sortField:a,sortOrder:r},this.queryParams,t))},reset:function(){this.selectedRowKeys=[],this.$refs.TableInfo.pagination.current=this.pagination.defaultCurrent,this.paginationInfo&&(this.paginationInfo.current=this.pagination.defaultCurrent,this.paginationInfo.pageSize=this.pagination.defaultPageSize),this.filteredInfo=null,this.sortedInfo=null,this.queryParams={mini:"",max:"",deptId:"",technicalType:[],entryStatus:[],postLevel:[]},this.isLeave="0",this.fetch()},handleTableChange:function(e,t,a){this.paginationInfo=e,this.filteredInfo=t,this.sortedInfo=a,this.staffInsideInfo.visiable=!1,this.fetch(o()({sortField:a.field,sortOrder:a.order},this.queryParams,t))},loadSelect:function(){var e=this;this.$get("dept").then(function(t){e.deptTreeData=t.data.rows.children}),this.$get("staffInside/getTechnicalType",{}).then(function(t){e.technicalTypeData=t.data.filter(function(e){return e})}),this.$get("staffInside/getEntryStatus",{}).then(function(t){e.entryStatusData=t.data.filter(function(e){return e})}),this.$get("staffInside/getPostLevel",{}).then(function(t){e.postLevelData=t.data.filter(function(e){return e})})},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.paginationInfo?(this.$refs.TableInfo.pagination.current=this.paginationInfo.current,this.$refs.TableInfo.pagination.pageSize=this.paginationInfo.pageSize,t.pageSize=this.paginationInfo.pageSize,t.pageNum=this.paginationInfo.current):(t.pageSize=this.pagination.defaultPageSize,t.pageNum=this.pagination.defaultCurrent),this.$get("staffInside",o()({isLeave:this.isLeave},t)).then(function(t){var a=t.data,r=o()({},e.pagination);r.total=a.total,e.dataSource=a.rows,e.pagination=r,e.loading=!1})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[a("div",{class:e.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("a-row",[a("div",{class:e.advanced?null:"fold"},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"部门",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-tree-select",{attrs:{allowClear:!0,dropdownStyle:{maxHeight:"220px",overflow:"auto"},treeData:e.deptTreeData},on:{change:e.handleDeptChange}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1)],1),e._v(" "),e.advanced?[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"事由",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-auto-complete",{attrs:{dataSource:e.causeData,allowClear:!0,filterOption:e.filterOption},model:{value:e.queryParams.cause,callback:function(t){e.$set(e.queryParams,"cause",t)},expression:"queryParams.cause"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"年龄",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input-group",{attrs:{compact:""}},[a("a-input",{staticStyle:{width:"45%","text-align":"center"},attrs:{value:e.queryParams.mini,maxLength:3},on:{change:e.onMiniChange}}),e._v(" "),a("a-input",{staticStyle:{width:"10%","text-align":"center","border-left":"0","pointer-events":"none",backgroundColor:"#fff"},attrs:{placeholder:"~",disabled:""}}),e._v(" "),a("a-input",{staticStyle:{width:"45%","text-align":"center","border-left":"0"},attrs:{value:e.queryParams.max,maxLength:3},on:{change:e.onMaxChange}})],1)],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"民族",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.clan,callback:function(t){e.$set(e.queryParams,"clan",t)},expression:"queryParams.clan"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"籍贯",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.birthplace,callback:function(t){e.$set(e.queryParams,"birthplace",t)},expression:"queryParams.birthplace"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"原学历",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-auto-complete",{attrs:{dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption},model:{value:e.queryParams.cultureBefore,callback:function(t){e.$set(e.queryParams,"cultureBefore",t)},expression:"queryParams.cultureBefore"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"现学历",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-auto-complete",{attrs:{dataSource:e.cultureData,allowClear:!0,filterOption:e.filterOption},model:{value:e.queryParams.cultureCurrent,callback:function(t){e.$set(e.queryParams,"cultureCurrent",t)},expression:"queryParams.cultureCurrent"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"政治面貌",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-auto-complete",{attrs:{dataSource:e.politicalFaceData,allowClear:!0,filterOption:e.filterOption},model:{value:e.queryParams.politicalFace,callback:function(t){e.$set(e.queryParams,"politicalFace",t)},expression:"queryParams.politicalFace"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"残疾证",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{mode:"multiple",allowClear:!0},on:{change:e.handleIsDisabilityCertificateChange}},[a("a-select-option",{key:"1"},[e._v("有")]),e._v(" "),a("a-select-option",{key:"0"},[e._v("无")])],1)],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.idNum,callback:function(t){e.$set(e.queryParams,"idNum",t)},expression:"queryParams.idNum"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"家庭住址",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.address,callback:function(t){e.$set(e.queryParams,"address",t)},expression:"queryParams.address"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"座机号码",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.phoneLandLine,callback:function(t){e.$set(e.queryParams,"phoneLandLine",t)},expression:"queryParams.phoneLandLine"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"手机号码",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:e.queryParams.phoneCell,callback:function(t){e.$set(e.queryParams,"phoneCell",t)},expression:"queryParams.phoneCell"}})],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"岗位级别",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{mode:"multiple",allowClear:!0},on:{change:e.handlePostLevelChange}},e._l(e.filteredPostLevelOptions,function(t){return a("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"岗位职务",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{mode:"multiple",allowClear:!0},on:{change:e.handleTechnicalTypeChange}},e._l(e.filteredTechnicalTypeOptions,function(t){return a("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"入职状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{mode:"multiple",allowClear:!0},on:{change:e.handleEntryStatusChange}},e._l(e.filteredEntryStatusOptions,function(t){return a("a-select-option",{key:t},[e._v(e._s(t))])}),1)],1)],1),e._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"在职与否",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{model:{value:e.isLeave,callback:function(t){e.isLeave=t},expression:"isLeave"}},[a("a-select-option",{attrs:{value:"0,1"}},[e._v("全部")]),e._v(" "),a("a-select-option",{attrs:{value:"0"}},[e._v("在职")]),e._v(" "),a("a-select-option",{attrs:{value:"1"}},[e._v("非在职")])],1)],1)],1)]:e._e()],2),e._v(" "),a("span",{staticStyle:{float:"right",margin:"3px auto 1em"}},[a("a-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v("\n            "+e._s(e.advanced?"收起":"展开")+"\n            "),a("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],1)],1),e._v(" "),a("div",[a("div",{staticClass:"operator"},[a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"staffInside:add",expression:"'staffInside:add'"}],attrs:{type:"primary",ghost:""},on:{click:e.add}},[e._v("新增")]),e._v(" "),a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"staffInside:delete",expression:"'staffInside:delete'"}],on:{click:e.batchDelete}},[e._v("删除")]),e._v(" "),a("a-dropdown",{directives:[{name:"hasAnyPermission",rawName:"v-hasAnyPermission",value:"staffInside:export",expression:"'staffInside:export'"}]},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"export-data",on:{click:e.exportExcel}},[e._v("导出Excel")]),e._v(" "),a("a-menu-item",{key:"staff-increase",on:{click:function(t){return e.showModal(0)}}},[e._v("增加人员报表")]),e._v(" "),a("a-menu-item",{key:"staff-decrease",on:{click:function(t){return e.showModal(1)}}},[e._v("减少人员报表")])],1),e._v(" "),a("a-button",[e._v("\n          更多操作 "),a("a-icon",{attrs:{type:"down"}})],1)],1),e._v("\n       \n      "),a("a-modal",{staticStyle:{left:"-12%",top:"25%"},attrs:{title:"选择人员变动报表年月",mask:!1,maskClosable:!1,width:350,okText:"提交"},on:{ok:e.staffChange},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[a("a-month-picker",{staticStyle:{width:"100%"},on:{change:e.handleYearMonthChange}})],1)],1),e._v(" "),a("a-table",{ref:"TableInfo",attrs:{columns:e.columns,dataSource:e.dataSource,pagination:e.pagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},scroll:{x:900},rowKey:"staffId"},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"operation",fn:function(t,r){return[a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"staffInside:update",expression:"'staffInside:update'"}],attrs:{type:"setting",theme:"twoTone",twoToneColor:"#4a9ff5",title:"修改"},on:{click:function(t){return e.edit(r)}}}),e._v("\n         \n        "),a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"staffInside:view",expression:"'staffInside:view'"}],attrs:{type:"eye",theme:"twoTone",twoToneColor:"#42b983",title:"查看"},on:{click:function(t){return e.view(r)}}})]}}])})],1),e._v(" "),a("staff-inside-info",{attrs:{staffInsideInfoData:e.staffInsideInfo.data,staffInsideInfoVisiable:e.staffInsideInfo.visiable},on:{close:e.handleStaffInsideInfoClose}}),e._v(" "),a("staff-inside-add",{attrs:{deptTreeData:e.deptTreeData,technicalTypeData:e.technicalTypeData,entryStatusData:e.entryStatusData,postLevelData:e.postLevelData,staffInsideAddVisiable:e.staffInsideAdd.visiable},on:{close:e.handleStaffInsideAddClose,success:e.handleStaffInsideAddSuccess}}),e._v(" "),a("staff-inside-edit",{ref:"staffInsideEdit",attrs:{deptTreeData:e.deptTreeData,technicalTypeData:e.technicalTypeData,entryStatusData:e.entryStatusData,postLevelData:e.postLevelData,staffInsideEditVisiable:e.staffInsideEdit.visiable},on:{close:e.handleStaffInsideEditClose,success:e.handleStaffInsideEditSuccess}})],1)},staticRenderFns:[]},f=a("VU/8")(d,c,!1,function(e){a("4SIR")},"data-v-aa7f55fa",null);t.default=f.exports}});