webpackJsonp([161],{"9W0w":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("Dd8w"),o=r.n(t),i=r("fZjL"),s=r.n(i),m=r("+6Bu"),l=r.n(m),c=r("Zz1P"),n=r.n(c);n.a.locale("zh-cn");var u={labelCol:{span:4},wrapperCol:{span:17}},d={name:"CarEdit",props:{carEditVisiable:{default:!1},carKindData:{require:!0},carUseData:{require:!0}},data:function(){return{carId:"",loading:!1,formItemLayout:u,form:this.$form.createForm(this)}},methods:{onClose:function(){this.loading=!1,this.form.resetFields(),this.$emit("close")},setFormValues:function(e){var a=this,r=l()(e,[]);this.carId=r.carId;var t={};s()(r).forEach(function(e){a.form.getFieldDecorator(e),t[e]=r[e]}),["date"].forEach(function(e){t[e]&&(t[e]=n()(t[e]))}),this.form.setFieldsValue(t)},handleSubmit:function(){var e=this;this.form.validateFields(function(a,r){if(a)e.$message.warning("格式出错，请检查表单");else{var t=r.date,i=o()({},r,{carId:e.carId,date:t?t.format("YYYY-MM-DD"):t});e.loading=!0,e.$put("car",o()({},i)).then(function(a){e.loading=!1,e.$emit("success")}).catch(function(){e.loading=!1})}})},filterOption:function(e,a){return a.componentOptions.children[0].text.toUpperCase().indexOf(e.toUpperCase())>=0}}},f={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改车辆",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:e.carEditVisiable},on:{close:e.onClose}},[r("a-form",{attrs:{form:e.form}},[r("a-form-item",e._b({attrs:{label:"车牌号"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carNum",{rules:[{required:!0,message:"车牌号不能为空"}]}],expression:"['carNum',\n          {rules: [{ required: true, message: '车牌号不能为空'}]}\n        ]"}],attrs:{placeholder:"车牌号",autocomplete:"off",autoFocus:""}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车辆品牌"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carType",{rules:[{required:!0,message:"车辆品牌不能为空"}]}],expression:"['carType',\n          {rules: [{ required: true, message: '车辆品牌不能为空'}]}\n        ]"}],attrs:{placeholder:"车辆品牌",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车牌颜色"}},"a-form-item",e.formItemLayout,!1),[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["color",{rules:[{required:!0,message:"请选择车辆颜色"}]}],expression:"['color',\n          {rules: [{ required: true, message: '请选择车辆颜色'}]}\n        ]"}]},[r("a-radio-button",{attrs:{value:"1"}},[e._v("黄")]),e._v(" "),r("a-radio-button",{attrs:{value:"2"}},[e._v("蓝")])],1)],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车辆状态"}},"a-form-item",e.formItemLayout,!1),[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"请选择车辆状态"}]}],expression:"['status',\n          {rules: [{ required: true, message: '请选择车辆状态'}]}\n        ]"}]},[r("a-radio-button",{attrs:{value:"1"}},[e._v("行驶")]),e._v(" "),r("a-radio-button",{attrs:{value:"2"}},[e._v("停驶")])],1)],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"汽车排量"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carDisplacement"],expression:"['carDisplacement']"}],attrs:{placeholder:"汽车排量",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车辆种类"}},"a-form-item",e.formItemLayout,!1),[r("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["carKind",{rules:[{required:!0,message:"车辆种类不能为空"}]}],expression:"['carKind',\n          {rules: [{ required: true, message: '车辆种类不能为空'}]}\n        ]"}],attrs:{dataSource:e.carKindData,allowClear:!0,filterOption:e.filterOption,placeholder:"车辆种类"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车辆用途"}},"a-form-item",e.formItemLayout,!1),[r("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["carUse",{rules:[{required:!0,message:"车辆用途不能为空"}]}],expression:"['carUse',\n          {rules: [{ required: true, message: '车辆用途不能为空'}]}\n        ]"}],attrs:{dataSource:e.carUseData,allowClear:!0,filterOption:e.filterOption,placeholder:"车辆用途"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"车辆日期"}},"a-form-item",e.formItemLayout,!1),[r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["date"],expression:"['date']"}],staticStyle:{width:"100%"},attrs:{placeholder:"车辆日期",format:"YYYY-MM-DD"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"使用单位"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carUseUnit"],expression:"['carUseUnit']"}],attrs:{placeholder:"车辆使用单位",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"所属单位"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carUnit"],expression:"['carUnit']"}],attrs:{placeholder:"车辆所属单位",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"原始牌照"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["carNumOld"],expression:"['carNumOld']"}],attrs:{placeholder:"原始牌照",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"卡号"}},"a-form-item",e.formItemLayout,!1),[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cardNum"],expression:"['cardNum']"}],attrs:{placeholder:"加油卡号",autocomplete:"off"}})],1),e._v(" "),r("a-form-item",e._b({attrs:{label:"备注"}},"a-form-item",e.formItemLayout,!1),[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),e._v(" "),r("div",{staticClass:"drawer-bootom-button"},[r("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.onClose}},[r("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),e._v(" "),r("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)},staticRenderFns:[]},p=r("VU/8")(d,f,!1,null,null,null);a.default=p.exports}});