webpackJsonp([141],{WSfq:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Dd8w"),i=t.n(r),s=t("fZjL"),l=t.n(s),o=t("+6Bu"),m=t.n(o),n=t("Krq1"),u=t("Zz1P"),d=t.n(u);d.a.locale("zh-cn");var c={labelCol:{span:4},wrapperCol:{span:17}},f={name:"AttendanceEdit",components:{StaffOutsideList:n.default},props:{attendanceEditVisiable:{default:!1}},data:function(){return{loading:!1,formItemLayout:c,form:this.$form.createForm(this),staffOutsideList:{visiable:!1},staffId:"",id:""}},methods:{reset:function(){this.loading=!1,this.staffId="",this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setFormValues:function(e){var a=this,t=m()(e,[]);this.id=t.id;var r={};l()(t).forEach(function(e){a.form.getFieldDecorator(e),r[e]=t[e]}),r.startDate=d()(r.startDate),r.endDate=d()(r.endDate),this.form.setFieldsValue(r)},selectName:function(){this.staffOutsideList.visiable=!0},handleStaffOutsideListChange:function(e,a){this.form.getFieldDecorator("staffName"),this.form.setFieldsValue({staffName:e}),this.staffId=a},handleStaffOutsideListClose:function(){this.staffOutsideList.visiable=!1},handleSubmit:function(){var e=this;this.form.validateFields(function(a,t){a?e.$message.warning("格式出错，请检查表单"):(e.loading=!0,e.$put("attendance",i()({},t,{id:e.id,staffId:e.staffId})).then(function(a){e.reset(),e.$emit("success")}).catch(function(){e.loading=!1}))})}}},v={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改考勤信息",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:e.attendanceEditVisiable},on:{close:e.onClose}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",e._b({attrs:{label:"选择人员"}},"a-form-item",e.formItemLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["staffName",{rules:[{required:!0,message:"请选择人员"}]}],expression:"['staffName',\n          {rules: [{ required: true, message: '请选择人员'}]}\n        ]"}],attrs:{readOnly:"",autoFocus:"",placeholder:"人员",autocomplete:"off"},on:{click:e.selectName}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"开始日期"}},"a-form-item",e.formItemLayout,!1),[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startDate",{rules:[{required:!0,message:"开始日期不能为空"}]}],expression:"['startDate',\n          {rules: [{ required: true, message: '开始日期不能为空'}]}\n        ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"开始日期",format:"YYYY-MM-DD"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"结束日期"}},"a-form-item",e.formItemLayout,!1),[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endDate",{rules:[{required:!0,message:"结束日期不能为空"}]}],expression:"['endDate',\n          {rules: [{ required: true, message: '结束日期不能为空'}]}\n        ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"结束日期",format:"YYYY-MM-DD"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"日勤"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["dayWork",{initialValue:0,rules:[{required:!0,message:"日勤不能为空"}]}],expression:"['dayWork',{\n          initialValue: 0,\n          rules: [{ required: true, message: '日勤不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"日勤"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"夜勤"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["nightWork",{initialValue:0,rules:[{required:!0,message:"夜勤不能为空"}]}],expression:"['nightWork',{\n          initialValue: 0,\n          rules: [{ required: true, message: '夜勤不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"夜勤"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"双加"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["doublePlus",{initialValue:0,rules:[{required:!0,message:"双加不能为空"}]}],expression:"['doublePlus',{\n          initialValue: 0,\n          rules: [{ required: true, message: '双加不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"双加"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"节加"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["holidayPlus",{initialValue:0,rules:[{required:!0,message:"节加不能为空"}]}],expression:"['holidayPlus',{\n          initialValue: 0,\n          rules: [{ required: true, message: '节加不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"节加"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"1.5倍"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["hour15",{initialValue:0,rules:[{required:!0,message:"1.5倍小时加班不能为空"}]}],expression:"['hour15',{\n          initialValue: 0,\n          rules: [{ required: true, message: '1.5倍小时加班不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"1.5倍小时加班"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"2倍"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["hour20",{initialValue:0,rules:[{required:!0,message:"2倍小时加班不能为空"}]}],expression:"['hour20',{\n          initialValue: 0,\n          rules: [{ required: true, message: '2倍小时加班不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"2倍小时加班"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"公休"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["publicHoliday",{initialValue:0,rules:[{required:!0,message:"公休不能为空"}]}],expression:"['publicHoliday',{\n          initialValue: 0,\n          rules: [{ required: true, message: '公休不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"公休"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"工龄假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["workingLeave",{initialValue:0,rules:[{required:!0,message:"工龄假不能为空"}]}],expression:"['workingLeave',{\n          initialValue: 0,\n          rules: [{ required: true, message: '工龄假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"工龄假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"病假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sickLeave",{initialValue:0,rules:[{required:!0,message:"病假不能为空"}]}],expression:"['sickLeave',{\n          initialValue: 0,\n          rules: [{ required: true, message: '病假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"病假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"事假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["thingLeave",{initialValue:0,rules:[{required:!0,message:"事假不能为空"}]}],expression:"['thingLeave',{\n          initialValue: 0,\n          rules: [{ required: true, message: '事假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"事假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"婚假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["marriageLeave",{initialValue:0,rules:[{required:!0,message:"婚假不能为空"}]}],expression:"['marriageLeave',{\n          initialValue: 0,\n          rules: [{ required: true, message: '婚假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"婚假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"丧假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["funeralLeave",{initialValue:0,rules:[{required:!0,message:"丧假不能为空"}]}],expression:"['funeralLeave',{\n          initialValue: 0,\n          rules: [{ required: true, message: '丧假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"丧假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"工伤假"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["workInjury",{initialValue:0,rules:[{required:!0,message:"工伤假不能为空"}]}],expression:"['workInjury',{\n          initialValue: 0,\n          rules: [{ required: true, message: '工伤假不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"工伤假"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"迟到早退"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["lateAndLeaveEarly",{initialValue:0,rules:[{required:!0,message:"迟到早退折合天数不能为空"}]}],expression:"['lateAndLeaveEarly',{\n          initialValue: 0,\n          rules: [{ required: true, message: '迟到早退折合天数不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"迟到早退折合天数"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"平时值班"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["usuallyDuty",{initialValue:0,rules:[{required:!0,message:"平时值班不能为空"}]}],expression:"['usuallyDuty',{\n          initialValue: 0,\n          rules: [{ required: true, message: '平时值班不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"平时值班"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"周末值班"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["weekendDuty",{initialValue:0,rules:[{required:!0,message:"周末值班不能为空"}]}],expression:"['weekendDuty',{\n          initialValue: 0,\n          rules: [{ required: true, message: '周末值班不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"周末值班"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"节日值班"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["holidayWatch",{initialValue:0,rules:[{required:!0,message:"节日值班不能为空"}]}],expression:"['holidayWatch',{\n          initialValue: 0,\n          rules: [{ required: true, message: '节日值班不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"节日值班"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"扣分"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["deduction",{initialValue:0,rules:[{required:!0,message:"扣分不能为空"}]}],expression:"['deduction',{\n          initialValue: 0,\n          rules: [{ required: true, message: '扣分不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"扣分"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"总计"}},"a-form-item",e.formItemLayout,!1),[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["totalAttendanceDays",{initialValue:0,rules:[{required:!0,message:"总计(出勤天数)不能为空"}]}],expression:"['totalAttendanceDays',{\n          initialValue: 0,\n          rules: [{ required: true, message: '总计(出勤天数)不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{min:0,max:31,placeholder:"总计(出勤天数)"}})],1),e._v(" "),t("a-form-item",e._b({attrs:{label:"备注"}},"a-form-item",e.formItemLayout,!1),[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),e._v(" "),t("div",{staticClass:"drawer-bootom-button"},[t("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.onClose}},[t("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),e._v(" "),t("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1),e._v(" "),t("staff-outside-list",{attrs:{staffOutsideListVisiable:e.staffOutsideList.visiable},on:{change:e.handleStaffOutsideListChange,close:e.handleStaffOutsideListClose}})],1)},staticRenderFns:[]},h=t("VU/8")(f,v,!1,null,null,null);a.default=h.exports}});