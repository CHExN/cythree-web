webpackJsonp([125],{lmK2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),o=a("fZjL"),n=a.n(o),s=a("+6Bu"),m=a.n(s),l=a("p1UK"),c=a("Zz1P"),u=a.n(c);u.a.locale("zh-cn");var d={labelCol:{span:4},wrapperCol:{span:17}},f={name:"TaxInsideEdit",components:{StaffInsideList:l.default},props:{taxInsideEditVisiable:{default:!1},dictData:{require:!0}},data:function(){return{loading:!1,formItemLayout:d,form:this.$form.createForm(this),staffInsideList:{visiable:!1},staffId:"",id:""}},methods:{reset:function(){this.loading=!1,this.staffId="",this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setFormValues:function(e){var t=this,a=m()(e,[]);this.id=a.id,this.form.getFieldDecorator("yearMonth"),this.form.setFieldsValue({yearMonth:u()(a.year+"-"+a.month)});var r={},i=["createTime","modifyTime","finalWage"];n()(a).forEach(function(e){i.includes(e)||(t.form.getFieldDecorator(e),r[e]=a[e])}),this.form.setFieldsValue(r)},selectName:function(){this.staffInsideList.visiable=!0},handleStaffInsideListChange:function(e,t){this.form.getFieldDecorator("staffName"),this.form.setFieldsValue({staffName:e}),this.staffId=t},handleStaffInsideListClose:function(){this.staffInsideList.visiable=!1},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){if(t)e.$message.warning("格式出错，请检查表单");else{e.loading=!0;var r=a.yearMonth;a.yearMonth=void 0,a.year=r.format("YYYY"),a.month=r.format("MM"),a.currentIncome=a.currentIncome||0,a.currentTaxFreeIncome=a.currentTaxFreeIncome||0,a.basicPensionIp=a.basicPensionIp||0,a.basicMedicalIp=a.basicMedicalIp||0,a.unemploymentIp=a.unemploymentIp||0,a.housingFund=a.housingFund||0,a.cumulativeChildE=a.cumulativeChildE||0,a.cumulativeContinuingE=a.cumulativeContinuingE||0,a.cumulativeHomeLoanInterest=a.cumulativeHomeLoanInterest||0,a.cumulativeHousingRent=a.cumulativeHousingRent||0,a.cumulativeElderlySupport=a.cumulativeElderlySupport||0,a.corporateAnnuity=a.corporateAnnuity||0,a.commercialHealthInsurance=a.commercialHealthInsurance||0,a.taxExtensionPensionInsurance=a.taxExtensionPensionInsurance||0,a.other=a.other||0,a.allowanceForDeduction=a.allowanceForDeduction||0,a.taxDeduction=a.taxDeduction||0,e.$put("taxInside",i()({},a,{id:e.id,staffId:e.staffId})).then(function(t){e.reset(),e.$emit("success")}).catch(function(){e.loading=!1})}})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改编内个税信息",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:e.taxInsideEditVisiable},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",e._b({attrs:{label:"选择人员"}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["staffName",{rules:[{required:!0,message:"请选择人员"}]}],expression:"['staffName',\n          {rules: [{ required: true, message: '请选择人员'}]}\n        ]"}],attrs:{readOnly:"",autoFocus:"",placeholder:"人员",autocomplete:"off"},on:{click:e.selectName}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"月份"}},"a-form-item",e.formItemLayout,!1),[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["yearMonth",{rules:[{required:!0,message:"月份不能为空"}]}],expression:"['yearMonth',\n          {rules: [{ required: true, message: '月份不能为空'}]}\n        ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"月份"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"证照类型"}},"a-form-item",e.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["idCardType",{initialValue:[e.dictData.idCardType&&"{}"!==JSON.stringify(e.dictData.idCardType)?Object.keys(e.dictData.idCardType)[0]:""],rules:[{required:!0,message:"请选择证照类型"}]}],expression:"['idCardType', {\n        initialValue: [dictData.idCardType && JSON.stringify(dictData.idCardType)!=='{}' ? Object.keys(dictData.idCardType)[0] : ''],\n        rules: [{ required: true, message: '请选择证照类型' }]\n      }]"}],attrs:{placeholder:"证照类型"}},e._l(Object.keys(e.dictData.idCardType||[]),function(t){return a("a-select-option",{key:t},[e._v(e._s(e.dictData.idCardType[t]))])}),1)],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"本期收入"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["currentIncome",{rules:[{required:!0,message:"本期收入不能为空"}]}],expression:"['currentIncome',{\n          rules: [{ required: true, message: '本期收入不能为空'}]\n        }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"本期收入"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"免税收入"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["currentTaxFreeIncome"],expression:"['currentTaxFreeIncome']"}],staticStyle:{width:"100%"},attrs:{placeholder:"本期免税收入"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"养老保险费"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["basicPensionIp"],expression:"['basicPensionIp']"}],staticStyle:{width:"100%"},attrs:{placeholder:"基本养老保险费"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"医疗保险费"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["basicMedicalIp"],expression:"['basicMedicalIp']"}],staticStyle:{width:"100%"},attrs:{placeholder:"基本医疗保险费"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"失业保险费"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["unemploymentIp"],expression:"['unemploymentIp']"}],staticStyle:{width:"100%"},attrs:{placeholder:"失业保险费"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"住房公积金"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["housingFund"],expression:"['housingFund']"}],staticStyle:{width:"100%"},attrs:{placeholder:"住房公积金"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"子女教育"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["cumulativeChildE"],expression:"['cumulativeChildE']"}],staticStyle:{width:"100%"},attrs:{placeholder:"累计子女教育"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"继续教育"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["cumulativeContinuingE"],expression:"['cumulativeContinuingE']"}],staticStyle:{width:"100%"},attrs:{placeholder:"累计继续教育"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"住房贷款利息"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["cumulativeHomeLoanInterest"],expression:"['cumulativeHomeLoanInterest']"}],staticStyle:{width:"100%"},attrs:{placeholder:"累计住房贷款利息"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"住房租金"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["cumulativeHousingRent"],expression:"['cumulativeHousingRent']"}],staticStyle:{width:"100%"},attrs:{placeholder:"累计住房租金"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"赡养老人"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["cumulativeElderlySupport"],expression:"['cumulativeElderlySupport']"}],staticStyle:{width:"100%"},attrs:{placeholder:"累计赡养老人"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"企业年金"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["corporateAnnuity"],expression:"['corporateAnnuity']"}],staticStyle:{width:"100%"},attrs:{placeholder:"企业(职业)年金"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"商业健康保险"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["commercialHealthInsurance"],expression:"['commercialHealthInsurance']"}],staticStyle:{width:"100%"},attrs:{placeholder:"商业健康保险"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"税延养老保险"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["taxExtensionPensionInsurance"],expression:"['taxExtensionPensionInsurance']"}],staticStyle:{width:"100%"},attrs:{placeholder:"税延养老保险"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"其他"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["other"],expression:"['other']"}],staticStyle:{width:"100%"},attrs:{placeholder:"其他"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"准予扣除的捐赠额"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["allowanceForDeduction"],expression:"['allowanceForDeduction']"}],staticStyle:{width:"100%"},attrs:{placeholder:"准予扣除的捐赠额"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"减免税额"}},"a-form-item",e.formItemLayout,!1),[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["taxDeduction"],expression:"['taxDeduction']"}],staticStyle:{width:"100%"},attrs:{placeholder:"减免税额"}})],1),e._v(" "),a("a-form-item",e._b({attrs:{label:"备注"}},"a-form-item",e.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),e._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),e._v(" "),a("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1),e._v(" "),a("staff-inside-list",{attrs:{staffInsideListVisiable:e.staffInsideList.visiable},on:{change:e.handleStaffInsideListChange,close:e.handleStaffInsideListClose}})],1)},staticRenderFns:[]},p=a("VU/8")(f,v,!1,null,null,null);t.default=p.exports}});