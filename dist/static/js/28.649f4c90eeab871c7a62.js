webpackJsonp([28,76,137,138],{"2J7b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("dC1H"),i=a("et8n"),o=r.a.Item,s={components:{AStepItemGroup:i.a.Group,AStepItem:i.a,DetailListItem:o,DetailList:r.a},name:"ContractOutsideInfo",props:{contractOutsideInfoVisiable:{require:!0,default:!1},contractOutsideInfoData:{require:!0}},data:function(){return{staffOutsideData:{},loading:!1}},methods:{handleCancleClick:function(){this.staffOutsideData={},this.$emit("close")},getGender:function(t){return"0"===t?"女":"1"===t?"男":void 0},getHouseholdRegistrationType:function(t){switch(t){case"0":return"外地农业";case"1":return"外地非农业";case"2":return"本地农业";case"3":return"本地非农业";default:return t}}},watch:{contractOutsideInfoVisiable:function(){var t=this;this.contractOutsideInfoVisiable&&(this.loading=!0,this.$get("staffOutside/getStaffOutsideByIdNum",{idNum:this.contractOutsideInfoData.idNum}).then(function(e){t.loading=!1,e.data&&(t.staffOutsideData=e.data)}))}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"编外合同信息",centered:!0,width:1200,visible:t.contractOutsideInfoVisiable,keyboard:!1,footer:null},on:{cancel:t.handleCancleClick}},[a("a-card",{attrs:{bordered:!1}},[a("a-card",{attrs:{bordered:!1}},[a("detail-list",{attrs:{title:"合同信息"}},[a("detail-list-item",{attrs:{term:"劳动合同起始日期"}},[t._v(t._s(t.contractOutsideInfoData.contractLaborStart))]),t._v(" "),a("detail-list-item",{attrs:{term:"劳动合同结束日期"}},[t._v(t._s(t.contractOutsideInfoData.contractLaborEnd))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位协议起始日期"}},[t._v(t._s(t.contractOutsideInfoData.jobAgreementStart))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位协议结束日期"}},[t._v(t._s(t.contractOutsideInfoData.jobAgreementEnd))]),t._v(" "),a("detail-list-item",{attrs:{term:"无固定期备注"}},[t._v(t._s(t.contractOutsideInfoData.remarkOnFixedPeriod))]),t._v(" "),a("detail-list-item",{attrs:{term:"续签备注"}},[t._v(t._s(t.contractOutsideInfoData.remarkRenew))]),t._v(" "),a("detail-list-item",{attrs:{term:"备注"}},[t._v(t._s(t.contractOutsideInfoData.remark))])],1)],1),t._v(" "),a("a-divider",{staticStyle:{"margin-bottom":"32px"}}),t._v(" "),a("a-card",{attrs:{loading:t.loading,bordered:!1}},[a("detail-list",{attrs:{title:"人员信息"}},[a("detail-list-item",{attrs:{term:"姓名"}},[t._v(t._s(t.staffOutsideData.name))]),t._v(" "),a("detail-list-item",{attrs:{term:"分队"}},[t._v(t._s(t.staffOutsideData.team))]),t._v(" "),a("detail-list-item",{attrs:{term:"人员类型"}},[t._v(t._s(t.staffOutsideData.temporary))]),t._v(" "),a("detail-list-item",{attrs:{term:"性别"}},[t._v(t._s(t.getGender(t.staffOutsideData.gender)))]),t._v(" "),a("detail-list-item",{attrs:{term:"民族"}},[t._v(t._s(t.staffOutsideData.clan))]),t._v(" "),a("detail-list-item",{attrs:{term:"籍贯"}},[t._v(t._s(t.staffOutsideData.birthplace))]),t._v(" "),a("detail-list-item",{attrs:{term:"学历"}},[t._v(t._s(t.staffOutsideData.culture))]),t._v(" "),a("detail-list-item",{attrs:{term:"户籍性质"}},[t._v(t._s(t.getHouseholdRegistrationType(t.staffOutsideData.householdRegistrationType)))]),t._v(" "),a("detail-list-item",{attrs:{term:"政治面貌"}},[t._v(t._s(t.staffOutsideData.politicalFace))]),t._v(" "),a("detail-list-item",{attrs:{term:"家庭住址"}},[t._v(t._s(t.staffOutsideData.address))]),t._v(" "),a("detail-list-item",{attrs:{term:"身份证号码"}},[t._v(t._s(t.staffOutsideData.idNum))]),t._v(" "),a("detail-list-item",{attrs:{term:"座机联系电话"}},[t._v(t._s(t.staffOutsideData.phoneLandLine))]),t._v(" "),a("detail-list-item",{attrs:{term:"手机联系电话"}},[t._v(t._s(t.staffOutsideData.phoneCell))]),t._v(" "),a("detail-list-item",{attrs:{term:"出生年月"}},[t._v(t._s(t.staffOutsideData.birthDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"年龄"}},[t._v(t._s(this.$tools.getAge(t.staffOutsideData.birthDate)))]),t._v(" "),a("detail-list-item",{attrs:{term:"调入环卫或报到日期"}},[t._v(t._s(t.staffOutsideData.transferDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"到本场队日期"}},[t._v(t._s(t.staffOutsideData.toTeamDate))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位"}},[t._v(t._s(t.staffOutsideData.post))]),t._v(" "),a("detail-list-item",{attrs:{term:"岗位类别"}},[t._v(t._s(t.staffOutsideData.technicalType))]),t._v(" "),a("detail-list-item",{attrs:{term:"备注"}},[t._v(t._s(t.staffOutsideData.remark))])],1)],1)],1)],1)},staticRenderFns:[]},d=a("VU/8")(s,n,!1,function(t){a("cVyk")},"data-v-415160b9",null);e.default=d.exports},"K/mE":function(t,e){},Xs0v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),o=a("fZjL"),s=a.n(o),n=a("+6Bu"),d=a.n(n),c=a("Krq1"),l=a("Zz1P"),m=a.n(l);m.a.locale("zh-cn");var u={labelCol:{span:4},wrapperCol:{span:17}},f={name:"ContractOutsideEdit",components:{StaffOutsideList:c.default},props:{contractOutsideEditVisiable:{default:!1}},data:function(){return{id:"",loading:!1,formItemLayout:u,form:this.$form.createForm(this),staffOutsideList:{visiable:!1},idNum:"",fileNumData:["编外合同制","编外固定工"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},untied:function(){var t=this;this.loading=!0,this.$put("contractOutside",{id:this.id,idNum:0}).then(function(e){t.loading=!1,t.$message.success("解除绑定成功"),t.idNum="",t.form.getFieldDecorator("name"),t.form.setFieldsValue({name:""}),t.$emit("untied")})},selectName:function(){this.staffOutsideList.visiable=!0},handleStaffOutsideListChange:function(t,e){this.form.getFieldDecorator("name"),this.form.setFieldsValue({name:t}),this.idNum=e},handleStaffOutsideListClose:function(){this.staffOutsideList.visiable=!1},setFormValues:function(t){var e=this,a=d()(t,[]);this.id=a.id;var r={};s()(a).forEach(function(t){e.form.getFieldDecorator(t),r[t]=a[t]}),["contractLaborStart","contractLaborEnd","jobAgreementStart","jobAgreementEnd"].forEach(function(t){r[t]&&(r[t]=m()(r[t]))}),this.idNum=a.idNum,this.form.setFieldsValue(r)},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(e)t.$message.warning("格式出错，请检查表单");else{var r=a.contractLaborStart,o=a.contractLaborEnd,s=a.jobAgreementStart,n=a.jobAgreementEnd,d=i()({id:t.id},a,{contractLaborStart:r?r.format("YYYY-MM-DD"):r,contractLaborEnd:o?o.format("YYYY-MM-DD"):o,jobAgreementStart:s?s.format("YYYY-MM-DD"):s,jobAgreementEnd:n?n.format("YYYY-MM-DD"):n});t.loading=!0,t.$put("contractOutside",i()({},d)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1})}})},filterOption:function(t,e){return e.componentOptions.children[0].text.toUpperCase().indexOf(t.toUpperCase())>=0}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"修改编外合同",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:t.contractOutsideEditVisiable},on:{close:t.onClose}},[a("a-form",{attrs:{form:t.form}},[a("a-form-item",t._b({attrs:{label:"身份证号"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idNum"],expression:"['idNum']"}],attrs:{placeholder:"身份证号",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"无固定期备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkOnFixedPeriod"],expression:"['remarkOnFixedPeriod']"}],attrs:{placeholder:"无固定期备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborStart"],expression:"['contractLaborStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborEnd"],expression:"['contractLaborEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementStart"],expression:"['jobAgreementStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementEnd"],expression:"['jobAgreementEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"续签备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkRenew"],expression:"['remarkRenew']"}],attrs:{placeholder:"续签备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),t._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:t.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[t._v("取消")])],1),t._v(" "),a("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("提交")])],1),t._v(" "),a("staff-outside-list",{attrs:{staffOutsideListVisiable:t.staffOutsideList.visiable,temporary:"123123"},on:{change:t.handleStaffOutsideListChange,close:t.handleStaffOutsideListClose}})],1)},staticRenderFns:[]},h=a("VU/8")(f,v,!1,null,null,null);e.default=h.exports},cVyk:function(t,e){},mp5a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),o=a("2J7b"),s=a("ymlT"),n=a("Xs0v"),d={name:"ContractOutside",components:{ContractOutsideInfo:o.default,ContractOutsideAdd:s.default,ContractOutsideEdit:n.default},data:function(){return{advanced:!1,contractOutsideInfo:{visiable:!1,data:{}},contractOutsideAdd:{visiable:!1,data:{}},contractOutsideEdit:{visiable:!1,data:{}},queryParams:{},filteredInfo:null,sortedInfo:null,paginationInfo:null,dataSource:[],selectedRowKeys:[],loading:!1,pagination:{pageSizeOptions:["10","20","30","40","100"],defaultCurrent:1,defaultPageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t,e){return"显示 "+e[0]+" ~ "+e[1]+" 条记录，共 "+t+" 条记录"}}}},computed:{columns:function(){var t=this.sortedInfo;return[{title:"姓名",dataIndex:"name"},{title:"身份证号",dataIndex:"idNum"},{title:"劳始日期",dataIndex:"contractLaborStart",sorter:!0,sortOrder:"contractLaborStart"===(t=t||{}).columnKey&&t.order},{title:"劳止日期",dataIndex:"contractLaborEnd",sorter:!0,sortOrder:"contractLaborEnd"===t.columnKey&&t.order},{title:"岗始日期",dataIndex:"jobAgreementStart",sorter:!0,sortOrder:"jobAgreementStart"===t.columnKey&&t.order},{title:"岗止日期",dataIndex:"jobAgreementEnd",sorter:!0,sortOrder:"jobAgreementEnd"===t.columnKey&&t.order},{title:"备注",dataIndex:"remark",scopedSlots:{customRender:"remark"},width:200},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},fixed:"right",width:100}]}},mounted:function(){this.fetch()},methods:{onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced,this.advanced||(this.queryParams.remarkOnFixedPeriod="",this.queryParams.remarkRenew="",this.queryParams.remark="")},view:function(t){this.contractOutsideInfo.data=t,this.contractOutsideInfo.visiable=!0},add:function(){this.contractOutsideAdd.visiable=!0},handleContractOutsideAddClose:function(){this.contractOutsideAdd.visiable=!1},handleContractOutsideAddSuccess:function(){this.contractOutsideAdd.visiable=!1,this.$message.success("新增编外合同成功"),this.search()},edit:function(t){this.$refs.contractOutsideEdit.setFormValues(t),this.contractOutsideEdit.visiable=!0},handleContractOutsideEditClose:function(){this.contractOutsideEdit.visiable=!1},handleContractOutsideEditUntied:function(){this.search()},handleContractOutsideEditSuccess:function(){this.contractOutsideEdit.visiable=!1,this.$message.success("修改编外合同成功"),this.search()},handleContractOutsideInfoClose:function(){this.contractOutsideInfo.visiable=!1},batchDelete:function(){if(this.selectedRowKeys.length){var t=this;this.$confirm({title:"确定删除所选中的记录?",content:"当您点击确定按钮后，这些记录将会被彻底删除",centered:!0,onOk:function(){t.$delete("contractOutside/"+t.selectedRowKeys.join(",")).then(function(){t.$message.success("删除成功"),t.selectedRowKeys=[],t.search()})},onCancel:function(){t.selectedRowKeys=[]}})}else this.$message.warning("请选择需要删除的记录")},exportExcel:function(){var t=this.sortedInfo,e=this.filteredInfo,a=void 0,r=void 0,o=void 0;this.pagination&&(o=this.pagination.total),t&&(a=t.field,r=t.order),this.$export("contractOutside/excel",i()({sortField:a,sortOrder:r,pageSize:o},this.queryParams,e))},search:function(){var t=this.sortedInfo,e=this.filteredInfo,a=void 0,r=void 0;t&&(a=t.field,r=t.order),this.fetch(i()({sortField:a,sortOrder:r},this.queryParams,e))},reset:function(){this.selectedRowKeys=[],this.$refs.TableInfo.pagination.current=this.pagination.defaultCurrent,this.paginationInfo&&(this.paginationInfo.current=this.pagination.defaultCurrent,this.paginationInfo.pageSize=this.pagination.defaultPageSize),this.filteredInfo=null,this.sortedInfo=null,this.queryParams={},this.fetch()},handleTableChange:function(t,e,a){this.paginationInfo=t,this.filteredInfo=e,this.sortedInfo=a,this.contractOutsideInfo.visiable=!1,this.fetch(i()({sortField:a.field,sortOrder:a.order},this.queryParams,e))},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.paginationInfo?(this.$refs.TableInfo.pagination.current=this.paginationInfo.current,this.$refs.TableInfo.pagination.pageSize=this.paginationInfo.pageSize,e.pageSize=this.paginationInfo.pageSize,e.pageNum=this.paginationInfo.current):(e.pageSize=this.pagination.defaultPageSize,e.pageNum=this.pagination.defaultCurrent),this.$get("contractOutside",i()({},e)).then(function(e){var a=e.data,r=i()({},t.pagination);r.total=a.total,t.dataSource=a.rows,t.pagination=r,t.loading=!1})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[a("div",{class:t.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("a-row",[a("div",{class:t.advanced?null:"fold"},[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.idNum,callback:function(e){t.$set(t.queryParams,"idNum",e)},expression:"queryParams.idNum"}})],1)],1),t._v(" "),t.advanced?[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"无固定期备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remarkOnFixedPeriod,callback:function(e){t.$set(t.queryParams,"remarkOnFixedPeriod",e)},expression:"queryParams.remarkOnFixedPeriod"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"续签备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remarkRenew,callback:function(e){t.$set(t.queryParams,"remarkRenew",e)},expression:"queryParams.remarkRenew"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{model:{value:t.queryParams.remark,callback:function(e){t.$set(t.queryParams,"remark",e)},expression:"queryParams.remark"}})],1)],1)]:t._e()],2),t._v(" "),a("span",{staticStyle:{float:"right",margin:"3px auto 1em"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n            "+t._s(t.advanced?"收起":"展开")+"\n            "),a("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],1)],1),t._v(" "),a("div",[a("div",{staticClass:"operator"},[a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractOutside:add",expression:"'contractOutside:add'"}],attrs:{type:"primary",ghost:""},on:{click:t.add}},[t._v("新增")]),t._v(" "),a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractOutside:delete",expression:"'contractOutside:delete'"}],on:{click:t.batchDelete}},[t._v("删除")]),t._v(" "),a("a-button",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractOutside:export",expression:"'contractOutside:export'"}],on:{click:t.exportExcel}},[t._v("导出Excel")])],1),t._v(" "),a("a-table",{ref:"TableInfo",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},scroll:{x:900},rowKey:"id"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"remark",fn:function(e){return[a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",[t._v(t._s(e))])]),t._v(" "),a("p",{staticStyle:{width:"200px","margin-bottom":"0"}},[t._v(t._s(e))])],2)]}},{key:"operation",fn:function(e,r){return[a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractOutside:update",expression:"'contractOutside:update'"}],attrs:{type:"setting",theme:"twoTone",twoToneColor:"#4a9ff5",title:"修改"},on:{click:function(e){return t.edit(r)}}}),t._v("\n         \n        "),a("a-icon",{directives:[{name:"hasPermission",rawName:"v-hasPermission",value:"contractOutside:view",expression:"'contractOutside:view'"}],attrs:{type:"eye",theme:"twoTone",twoToneColor:"#42b983",title:"查看"},on:{click:function(e){return t.view(r)}}})]}}])})],1),t._v(" "),a("contract-outside-info",{attrs:{contractOutsideInfoData:t.contractOutsideInfo.data,contractOutsideInfoVisiable:t.contractOutsideInfo.visiable},on:{close:t.handleContractOutsideInfoClose}}),t._v(" "),a("contract-outside-add",{attrs:{contractOutsideAddVisiable:t.contractOutsideAdd.visiable},on:{close:t.handleContractOutsideAddClose,success:t.handleContractOutsideAddSuccess}}),t._v(" "),a("contract-outside-edit",{ref:"contractOutsideEdit",attrs:{contractOutsideEditVisiable:t.contractOutsideEdit.visiable},on:{close:t.handleContractOutsideEditClose,untied:t.handleContractOutsideEditUntied,success:t.handleContractOutsideEditSuccess}})],1)},staticRenderFns:[]},l=a("VU/8")(d,c,!1,function(t){a("K/mE")},"data-v-04f7636d",null);e.default=l.exports},ymlT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),o={labelCol:{span:4},wrapperCol:{span:17}},s={name:"ContractOutsideAdd",components:{StaffOutsideList:a("Krq1").default},props:{contractOutsideAddVisiable:{default:!1}},data:function(){return{loading:!1,formItemLayout:o,form:this.$form.createForm(this),staffOutsideList:{visiable:!1},idNum:"",fileNumData:["编外合同制","编外固定工"]}},methods:{reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},selectName:function(){this.staffOutsideList.visiable=!0},handleStaffOutsideListChange:function(t,e){this.form.getFieldDecorator("name"),this.form.setFieldsValue({name:t}),this.idNum=e},handleStaffOutsideListClose:function(){this.staffOutsideList.visiable=!1},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(e)t.$message.warning("格式出错，请检查表单");else{var r=a.contractLaborStart,o=a.contractLaborEnd,s=a.jobAgreementStart,n=a.jobAgreementEnd,d=i()({},a,{contractLaborStart:r?r.format("YYYY-MM-DD"):r,contractLaborEnd:o?o.format("YYYY-MM-DD"):o,jobAgreementStart:s?s.format("YYYY-MM-DD"):s,jobAgreementEnd:n?n.format("YYYY-MM-DD"):n});t.loading=!0,t.$post("contractOutside",i()({},d)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1})}})},filterOption:function(t,e){return e.componentOptions.children[0].text.toUpperCase().indexOf(t.toUpperCase())>=0}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:"新增编外合同",maskClosable:!1,width:"650",placement:"right",closable:!1,visible:t.contractOutsideAddVisiable},on:{close:t.onClose}},[a("a-form",{attrs:{form:t.form}},[a("a-form-item",t._b({attrs:{label:"身份证号"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idNum"],expression:"['idNum']"}],attrs:{placeholder:"身份证号",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"无固定期备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkOnFixedPeriod"],expression:"['remarkOnFixedPeriod']"}],attrs:{placeholder:"无固定期备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborStart"],expression:"['contractLaborStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"劳止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["contractLaborEnd"],expression:"['contractLaborEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"劳动合同结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗始日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementStart"],expression:"['jobAgreementStart']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议起始日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"岗止日期"}},"a-form-item",t.formItemLayout,!1),[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobAgreementEnd"],expression:"['jobAgreementEnd']"}],staticStyle:{width:"100%"},attrs:{placeholder:"岗位协议结束日期",format:"YYYY-MM-DD"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"续签备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarkRenew"],expression:"['remarkRenew']"}],attrs:{placeholder:"续签备注",autocomplete:"off"}})],1),t._v(" "),a("a-form-item",t._b({attrs:{label:"备注"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}],attrs:{placeholder:"备注",autocomplete:"off"}})],1)],1),t._v(" "),a("div",{staticClass:"drawer-bootom-button"},[a("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:t.onClose}},[a("a-button",{staticStyle:{"margin-right":".8rem"}},[t._v("取消")])],1),t._v(" "),a("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("提交")])],1),t._v(" "),a("staff-outside-list",{attrs:{staffOutsideListVisiable:t.staffOutsideList.visiable,temporary:"123123"},on:{change:t.handleStaffOutsideListChange,close:t.handleStaffOutsideListClose}})],1)},staticRenderFns:[]},d=a("VU/8")(s,n,!1,null,null,null);e.default=d.exports}});